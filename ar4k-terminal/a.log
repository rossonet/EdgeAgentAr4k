2020-01-27 01:03:05.746  INFO 30219 --- [pool-1-thread-2] o.s.boot.SpringApplication               : 
     _    ____  _  _   _         _                    _   
    / \  |  _ \| || | | | __    / \   __ _  ___ _ __ | |_ 
   / _ \ | |_) | || |_| |/ /   / _ \ / _` |/ _ \ '_ \| __|
  / ___ \|  _ <|__   _|   <   / ___ \ (_| |  __/ | | | |_ 
 /_/   \_\_| \_\__|_| |_|\_\ /_/   \_\__, |\___|_| |_|\__|
 | |__  _   _  |  _ \ ___  ___ ___  _|___/ __   ___| |_   
 | '_ \| | | | | |_) / _ \/ __/ __|/ _ \| '_ \ / _ \ __|  
 | |_) | |_| | |  _ < (_) \__ \__ \ (_) | | | |  __/ |_   
 |_.__/ \__, | |_| \_\___/|___/___/\___/|_| |_|\___|\__|  
        |___/                                             

BUILD 
based on Spring Boot Framework (v2.2.4.RELEASE)

Type help to list the available commands

You can use the TAB completation;
the CTRL-R to invoke the reverse-i-search in the history and
you can run a sequence of commands saved in a file.


2020-01-27 01:03:06.383  INFO 30219 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Starting application on ciospo.rossonet.net with PID 30219 (started by andrea in /home/andrea/privato/git/EdgeAgentAr4k/ar4k-terminal)
2020-01-27 01:03:06.385  INFO 30219 --- [pool-1-thread-2] o.s.boot.SpringApplication               : No active profile set, falling back to default profiles: default
2020-01-27 01:03:09.561  INFO 30219 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-27 01:03:09.610  INFO 30219 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-27 01:03:09.844  INFO 30219 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration' of type [org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration$$EnhancerBySpringCGLIB$$9f40d32c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:03:09.871  INFO 30219 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:03:09.893  INFO 30219 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:03:09.897  INFO 30219 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:03:11.033  WARN 30219 --- [pool-1-thread-2] org.jline                                : Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)
2020-01-27 01:03:12.578  INFO 30219 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-27 01:03:12.579  INFO 30219 --- [pool-1-thread-2] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-27 01:03:12.580  INFO 30219 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2020-01-27 01:03:12.618  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : STARTING AGENT...
2020-01-27 01:03:12.639  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to INIT
2020-01-27 01:03:12.835  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : datastore on Anima started
2020-01-27 01:03:13.159  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : use keystore file KeystoreConfig [creationDate=2020-01-27T00:03:12.836Z, lastUpdate=2020-01-27T00:03:12.836Z, uniqueId=ca6b1883-6ac0-43a2-844d-aa1008541b44, filePathPre=/tmp/server.ks, keystorePassword=*********, label=master-keytool, caAlias=server]
2020-01-27 01:03:13.424  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Certificate for anima: C=IT, ST=BO, L=Imola, OU=Ar4k, O=Rossonet s.c.a r.l., CN=rossonet-62d794f9-6e19-4023-88e1-397f5fdc7a51 - alias server
2020-01-27 01:03:13.424  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : 0/3 searching config...
2020-01-27 01:03:13.426  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : try base64Config
2020-01-27 01:03:13.435  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : found base64Config
2020-01-27 01:03:13.436  INFO 30219 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel system of type class org.ar4k.agent.core.data.channels.INoDataChannel
2020-01-27 01:03:13.441  INFO 30219 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : system [local JVM system] started
2020-01-27 01:03:13.442  INFO 30219 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel logger of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 01:03:13.444  INFO 30219 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child logger to system for scope ar4k-ai
2020-01-27 01:03:13.445  INFO 30219 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : logger [logger queue] started
2020-01-27 01:03:13.446  INFO 30219 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel health of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 01:03:13.446  INFO 30219 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child health to system for scope ar4k-ai
2020-01-27 01:03:13.446  INFO 30219 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : health [local machine hardware and software stats] started
2020-01-27 01:03:13.450  INFO 30219 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel command of type class org.ar4k.agent.core.data.channels.IQueueChannel
2020-01-27 01:03:13.453  INFO 30219 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child command to system for scope ar4k-ai
2020-01-27 01:03:13.454  INFO 30219 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : command [RPC interface] started
2020-01-27 01:03:13.712  WARN 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : created user admin
2020-01-27 01:03:13.716  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : TRY CONNECTION TO BEACON AT https://127.0.0.1:33666
2020-01-27 01:03:13.899  INFO 30219 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Certificate with alias 'server' for Beacon client is present in keystore
2020-01-27 01:03:14.165  INFO 30219 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : USE KEY FOR CLIENT: server target file -> /tmp/beacon-client-aebc8ff5-c7a2-4400-9777-fbde99ee253b.key
2020-01-27 01:03:15.729  WARN 30219 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Beacon server connection is UNAVAILABLE: io exception
2020-01-27 01:03:15.731  INFO 30219 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   :  [M] finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666 -> io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)
	at org.ar4k.agent.tunnels.http.grpc.beacon.RpcServiceV1Grpc$RpcServiceV1BlockingStub.register(RpcServiceV1Grpc.java:1056)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.registerToBeacon(BeaconClient.java:424)

2020-01-27 01:03:15.733  INFO 30219 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Client Beacon started, connected state TRANSIENT_FAILURE
2020-01-27 01:03:15.735  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : the Beacon endpoint https://127.0.0.1:33666 return TRANSIENT_FAILURE
2020-01-27 01:03:15.735  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Starting with config: Ar4kConfig [creationDate=2020-01-27T00:03:04.709Z, lastUpdate=2020-01-27T00:03:04.709Z, uniqueId=f58243ad-26e7-42e0-880f-a2e6d100de20, name=server-beacon, prompt=studio, promptColor=91, description=Template configurazione Agente Ar4k, beaconServer=null, autoRegisterBeaconServer=false, dataCenter=ALONE, version=0, subVersion=1, tagVersion=demo, author=Ar4k demo user, project=Ar4k Edge Agent Test Project 1, license=GNU AFFERO GENERAL PUBLIC LICENSE, tags=[], contexts=[], groups=[], targetRunLevel=RUNNING, preScript=null, postScript=null, initializeKeystore=true, sshdAuthorizedKeysPath=~/.ssh/authorized_keys, routerType=NONE, logoUrl=/static/img/ar4k.png, pots=[BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-1f56abd5-2d93-4a7c-bcbf-bf4b79843344-ca.pem, certFile=/tmp/beacon-server-b4b6cceb-ff86-4e57-85e0-42fd4117b1e2.pem, privateKeyFile=/tmp/beacon-server-c197a270-38c4-46f8-926f-86ef4bee2657.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]]]
2020-01-27 01:03:15.736  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to STAMINAL
2020-01-27 01:03:15.740  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to CONFIGURED
2020-01-27 01:03:15.743  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : run BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-1f56abd5-2d93-4a7c-bcbf-bf4b79843344-ca.pem, certFile=/tmp/beacon-server-b4b6cceb-ff86-4e57-85e0-42fd4117b1e2.pem, privateKeyFile=/tmp/beacon-server-c197a270-38c4-46f8-926f-86ef4bee2657.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null] as service
2020-01-27 01:03:16.142  INFO 30219 --- [pool-6-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Certificate with alias 'server' for Beacon server is present in keystore
2020-01-27 01:03:16.791  INFO 30219 --- [pool-6-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Starting beacon server
2020-01-27 01:03:16.929  INFO 30219 --- [pool-6-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Server Beacon started, listening on 33666
2020-01-27 01:03:16.932  INFO 30219 --- [pool-1-thread-2] c.ar4k.agent.core.AbstractAr4kService    : started service BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-1f56abd5-2d93-4a7c-bcbf-bf4b79843344-ca.pem, certFile=/tmp/beacon-server-b4b6cceb-ff86-4e57-85e0-42fd4117b1e2.pem, privateKeyFile=/tmp/beacon-server-c197a270-38c4-46f8-926f-86ef4bee2657.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]
2020-01-27 01:03:16.933  INFO 30219 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to RUNNING
2020-01-27 01:03:16.935  INFO 30219 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started org.springframework.statemachine.support.DefaultStateMachineExecutor@2537cd9f
2020-01-27 01:03:16.936  INFO 30219 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started CONFIGURED RUNNING FAULTED KILLED INIT STAMINAL STASIS  / RUNNING / uuid=48f795d1-9298-48ea-a001-3acbf11df9da / id=null
2020-01-27 01:03:16.945  INFO 30219 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Started application in 11.95 seconds (JVM running for 17.331)
2020-01-27 01:03:30.282  INFO 30219 --- [Thread-787] c.a.a.tunnels.http.beacon.BeaconClient   : connection to beacon ok . I'm ciospo.rossonet.net_b50f2d7bb7384593ad3ed17faf3b54e0
2020-01-27 01:03:37.135  INFO 30219 --- [grpc-default-executor-0] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_b50f2d7bb7384593ad3ed17faf3b54e0"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_b50f2d7bb7384593ad3ed17faf3b54e0"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 7777
srcPort: 8888

2020-01-27 01:03:37.137  INFO 30219 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel 2560207833837815069 created
2020-01-27 01:03:37.627  INFO 30219 --- [Thread-787] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon 2560207833837815069
2020-01-27 01:03:37.639  INFO 30219 --- [Thread-787] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:7777
2020-01-27 01:03:37.935  INFO 30219 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 8888 with id_target 2560207833837815069/55953a1f-89c2-4cb5-a379-e50af9c4cdda started successfully
2020-01-27 01:03:42.967  INFO 30219 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session 4174103316993755723 to 2560207833837815069/55953a1f-89c2-4cb5-a379-e50af9c4cdda created
2020-01-27 01:03:43.013  INFO 30219 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0x3d510e84, L:/127.0.0.1:8888 - R:/127.0.0.1:39574]) with session 4174103316993755723
2020-01-27 01:03:43.020  INFO 30219 --- [grpc-default-executor-1] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session 4174103316993755723 in tunnel 2560207833837815069
2020-01-27 01:03:43.053  INFO 30219 --- [grpc-default-executor-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session 4174103316993755723 to 127.0.0.1:7777 with id_target 2560207833837815069/78618986-d3d6-44d7-bed6-011ac807a0fd started successfully
2020-01-27 01:03:43.867  INFO 30219 --- [grpc-default-executor-0] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_b50f2d7bb7384593ad3ed17faf3b54e0"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_b50f2d7bb7384593ad3ed17faf3b54e0"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 22
srcPort: 44463

2020-01-27 01:03:43.868  INFO 30219 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel 4653728437487158080 created
2020-01-27 01:03:44.475  INFO 30219 --- [Thread-787] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon 4653728437487158080
2020-01-27 01:03:44.482  INFO 30219 --- [Thread-787] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:22
2020-01-27 01:03:44.775  INFO 30219 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 44463 with id_target 4653728437487158080/042dd0e8-fe0a-4426-83a6-f97189fdf2ad started successfully
2020-01-27 01:03:49.794  INFO 30219 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session 8499775899923531293 to 4653728437487158080/042dd0e8-fe0a-4426-83a6-f97189fdf2ad created
2020-01-27 01:03:49.797  INFO 30219 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0x8622d675, L:/127.0.0.1:44463 - R:/127.0.0.1:60134]) with session 8499775899923531293
2020-01-27 01:03:49.802  INFO 30219 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session 8499775899923531293 in tunnel 4653728437487158080
2020-01-27 01:03:49.808  INFO 30219 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session 8499775899923531293 to 127.0.0.1:22 with id_target 4653728437487158080/eb616c99-fc8a-47fd-9b36-a6da13af412c started successfully
2020-01-27 01:05:19.364  INFO 30219 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : LOCAL SSH null
2020-01-27 01:05:19.367  INFO 30219 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : LOCAL SSH ERRPseudo-terminal will not be allocated because stdin is not a terminal.
2020-01-27 01:07:19.383  INFO 30219 --- [main] c.ar4k.agent.core.AbstractAr4kService    : stopped service BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-1f56abd5-2d93-4a7c-bcbf-bf4b79843344-ca.pem, certFile=/tmp/beacon-server-b4b6cceb-ff86-4e57-85e0-42fd4117b1e2.pem, privateKeyFile=/tmp/beacon-server-c197a270-38c4-46f8-926f-86ef4bee2657.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]
2020-01-27 01:07:19.405  INFO 30219 --- [grpc-default-executor-4] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=2560207833837815069, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_b50f2d7bb7384593ad3ed17faf3b54e0"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_b50f2d7bb7384593ad3ed17faf3b54e0"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:07:19.405  INFO 30219 --- [grpc-default-executor-4] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 2560207833837815069 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:07:19.407  INFO 30219 --- [grpc-default-executor-4] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=2560207833837815069, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_b50f2d7bb7384593ad3ed17faf3b54e0"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_b50f2d7bb7384593ad3ed17faf3b54e0"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:07:19.407  INFO 30219 --- [grpc-default-executor-4] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 2560207833837815069 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:07:19.408  INFO 30219 --- [grpc-default-executor-4] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=4653728437487158080, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_b50f2d7bb7384593ad3ed17faf3b54e0"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_b50f2d7bb7384593ad3ed17faf3b54e0"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:07:19.409  INFO 30219 --- [grpc-default-executor-4] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 4653728437487158080 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:07:19.425  INFO 30219 --- [grpc-default-executor-4] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=4653728437487158080, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_b50f2d7bb7384593ad3ed17faf3b54e0"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_b50f2d7bb7384593ad3ed17faf3b54e0"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:07:19.441  INFO 30219 --- [grpc-default-executor-4] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 4653728437487158080 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:07:19.456  INFO 30219 --- [grpc-default-executor-3] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 4653728437487158080/eb616c99-fc8a-47fd-9b36-a6da13af412c session:0 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:07:19.457  INFO 30219 --- [grpc-default-executor-5] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 2560207833837815069/55953a1f-89c2-4cb5-a379-e50af9c4cdda session:4174103316993755723 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:07:19.459  INFO 30219 --- [grpc-default-executor-6] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 2560207833837815069/78618986-d3d6-44d7-bed6-011ac807a0fd session:0 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:07:19.483  INFO 30219 --- [grpc-default-executor-9] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 4653728437487158080/042dd0e8-fe0a-4426-83a6-f97189fdf2ad session:8499775899923531293 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:07:19.535  INFO 30219 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel logger
2020-01-27 01:07:19.537  INFO 30219 --- [main] c.ar4k.agent.core.data.DataAddress       : logger [logger queue] removed
2020-01-27 01:07:19.538  INFO 30219 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel system
2020-01-27 01:07:19.539  INFO 30219 --- [main] c.ar4k.agent.core.data.DataAddress       : system [local JVM system] removed
2020-01-27 01:07:19.539  INFO 30219 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel command
2020-01-27 01:07:19.540  INFO 30219 --- [main] c.ar4k.agent.core.data.DataAddress       : command [RPC interface] removed
2020-01-27 01:07:19.540  INFO 30219 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel health
2020-01-27 01:07:19.540  INFO 30219 --- [main] c.ar4k.agent.core.data.DataAddress       : health [local machine hardware and software stats] removed
2020-01-27 01:07:19.550  INFO 30219 --- [main] class org.ar4k.agent.core.Anima          : State change in ANIMA to KILLED
2020-01-27 01:07:19.551  INFO 30219 --- [main] o.s.s.support.LifecycleObjectSupport     : stopped org.springframework.statemachine.support.DefaultStateMachineExecutor@2537cd9f
2020-01-27 01:07:19.553  INFO 30219 --- [main] o.s.s.support.LifecycleObjectSupport     : stopped CONFIGURED RUNNING FAULTED KILLED INIT STAMINAL STASIS  /  / uuid=48f795d1-9298-48ea-a001-3acbf11df9da / id=null
2020-01-27 01:07:19.639  WARN 30219 --- [Thread-787] c.a.a.tunnels.http.beacon.BeaconClient   : error sendHardwareInfo -> UNAVAILABLE: io exception
2020-01-27 01:07:19.640  INFO 30219 --- [Thread-787] c.a.a.tunnels.http.beacon.BeaconClient   : Exception ->  [M] finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666 -> io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)
	at org.ar4k.agent.tunnels.http.grpc.beacon.RpcServiceV1Grpc$RpcServiceV1BlockingStub.sendHealth(RpcServiceV1Grpc.java:1095)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.sendHardwareInfo(BeaconClient.java:606)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.run(BeaconClient.java:452)
	at java.lang.Thread.run(Thread.java:748)
Caused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666
Caused by: java.net.ConnectException: finishConnect(..) failed: Connessione rifiutata
	at io.grpc.netty.shaded.io.netty.channel.unix.Errors.throwConnectException(Errors.java:124)
	at io.grpc.netty.shaded.io.netty.channel.unix.Socket.finishConnect(Socket.java:243)
	at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:660)
	at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:637)
	at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:524)
	at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:473)
	at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:383)
	at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044)
	at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:07:19.996  INFO 30219 --- [SpringContextShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-27 01:07:20.005  INFO 30219 --- [SpringContextShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 0 subscriber(s).
2020-01-27 01:07:20.005  INFO 30219 --- [SpringContextShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2020-01-27 01:07:20.021  INFO 30219 --- [SpringContextShutdownHook] o.s.s.support.LifecycleObjectSupport     : destroy called
2020-01-27 01:07:57.628  INFO 5246 --- [pool-1-thread-2] o.s.boot.SpringApplication               : 
     _    ____  _  _   _         _                    _   
    / \  |  _ \| || | | | __    / \   __ _  ___ _ __ | |_ 
   / _ \ | |_) | || |_| |/ /   / _ \ / _` |/ _ \ '_ \| __|
  / ___ \|  _ <|__   _|   <   / ___ \ (_| |  __/ | | | |_ 
 /_/   \_\_| \_\__|_| |_|\_\ /_/   \_\__, |\___|_| |_|\__|
 | |__  _   _  |  _ \ ___  ___ ___  _|___/ __   ___| |_   
 | '_ \| | | | | |_) / _ \/ __/ __|/ _ \| '_ \ / _ \ __|  
 | |_) | |_| | |  _ < (_) \__ \__ \ (_) | | | |  __/ |_   
 |_.__/ \__, | |_| \_\___/|___/___/\___/|_| |_|\___|\__|  
        |___/                                             

BUILD 
based on Spring Boot Framework (v2.2.4.RELEASE)

Type help to list the available commands

You can use the TAB completation;
the CTRL-R to invoke the reverse-i-search in the history and
you can run a sequence of commands saved in a file.


2020-01-27 01:07:58.458  INFO 5246 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Starting application on ciospo.rossonet.net with PID 5246 (started by andrea in /home/andrea/privato/git/EdgeAgentAr4k/ar4k-terminal)
2020-01-27 01:07:58.465  INFO 5246 --- [pool-1-thread-2] o.s.boot.SpringApplication               : No active profile set, falling back to default profiles: default
2020-01-27 01:08:03.008  INFO 5246 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-27 01:08:03.041  INFO 5246 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-27 01:08:03.398  INFO 5246 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration' of type [org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration$$EnhancerBySpringCGLIB$$9d72855c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:08:03.436  INFO 5246 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:08:03.469  INFO 5246 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:08:03.475  INFO 5246 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:08:05.099  WARN 5246 --- [pool-1-thread-2] org.jline                                : Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)
2020-01-27 01:08:07.229  INFO 5246 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-27 01:08:07.236  INFO 5246 --- [pool-1-thread-2] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-27 01:08:07.238  INFO 5246 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2020-01-27 01:08:07.304  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : STARTING AGENT...
2020-01-27 01:08:07.348  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to INIT
2020-01-27 01:08:07.564  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : datastore on Anima started
2020-01-27 01:08:08.048  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : use keystore file KeystoreConfig [creationDate=2020-01-27T00:08:07.565Z, lastUpdate=2020-01-27T00:08:07.565Z, uniqueId=1b07cef5-125c-48a4-9da4-183dcc1ead12, filePathPre=/tmp/server.ks, keystorePassword=*********, label=master-keytool, caAlias=server]
2020-01-27 01:08:08.499  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Certificate for anima: C=IT, ST=BO, L=Imola, OU=Ar4k, O=Rossonet s.c.a r.l., CN=rossonet-d93b016c-ea0a-4294-ba43-b4490efcf954 - alias server
2020-01-27 01:08:08.511  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : 0/3 searching config...
2020-01-27 01:08:08.512  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : try base64Config
2020-01-27 01:08:08.520  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : found base64Config
2020-01-27 01:08:08.527  INFO 5246 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel system of type class org.ar4k.agent.core.data.channels.INoDataChannel
2020-01-27 01:08:08.545  INFO 5246 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : system [local JVM system] started
2020-01-27 01:08:08.546  INFO 5246 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel logger of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 01:08:08.548  INFO 5246 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child logger to system for scope ar4k-ai
2020-01-27 01:08:08.549  INFO 5246 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : logger [logger queue] started
2020-01-27 01:08:08.550  INFO 5246 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel health of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 01:08:08.550  INFO 5246 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child health to system for scope ar4k-ai
2020-01-27 01:08:08.551  INFO 5246 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : health [local machine hardware and software stats] started
2020-01-27 01:08:08.555  INFO 5246 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel command of type class org.ar4k.agent.core.data.channels.IQueueChannel
2020-01-27 01:08:08.558  INFO 5246 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child command to system for scope ar4k-ai
2020-01-27 01:08:08.558  INFO 5246 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : command [RPC interface] started
2020-01-27 01:08:09.130  WARN 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : created user admin
2020-01-27 01:08:09.186  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : TRY CONNECTION TO BEACON AT https://127.0.0.1:33666
2020-01-27 01:08:09.554  INFO 5246 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Certificate with alias 'server' for Beacon client is present in keystore
2020-01-27 01:08:10.018  INFO 5246 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : USE KEY FOR CLIENT: server target file -> /tmp/beacon-client-39685f41-2f1a-4216-b877-f7003e1eb682.key
2020-01-27 01:08:13.359  WARN 5246 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Beacon server connection is UNAVAILABLE: io exception
2020-01-27 01:08:13.365  INFO 5246 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   :  [M] finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666 -> io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)
	at org.ar4k.agent.tunnels.http.grpc.beacon.RpcServiceV1Grpc$RpcServiceV1BlockingStub.register(RpcServiceV1Grpc.java:1056)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.registerToBeacon(BeaconClient.java:424)

2020-01-27 01:08:13.370  INFO 5246 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Client Beacon started, connected state TRANSIENT_FAILURE
2020-01-27 01:08:13.376  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : the Beacon endpoint https://127.0.0.1:33666 return TRANSIENT_FAILURE
2020-01-27 01:08:13.377  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Starting with config: Ar4kConfig [creationDate=2020-01-27T00:07:55.761Z, lastUpdate=2020-01-27T00:07:55.761Z, uniqueId=2379e701-b6f7-44bd-b0a1-6e0bd8430099, name=server-beacon, prompt=studio, promptColor=91, description=Template configurazione Agente Ar4k, beaconServer=null, autoRegisterBeaconServer=false, dataCenter=ALONE, version=0, subVersion=1, tagVersion=demo, author=Ar4k demo user, project=Ar4k Edge Agent Test Project 1, license=GNU AFFERO GENERAL PUBLIC LICENSE, tags=[], contexts=[], groups=[], targetRunLevel=RUNNING, preScript=null, postScript=null, initializeKeystore=true, sshdAuthorizedKeysPath=~/.ssh/authorized_keys, routerType=NONE, logoUrl=/static/img/ar4k.png, pots=[BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-b5a165a0-91f7-47eb-b75b-a1b8d1167634-ca.pem, certFile=/tmp/beacon-server-c89061f0-7447-49d6-91bb-c2a02d718092.pem, privateKeyFile=/tmp/beacon-server-e1e33324-2daa-4d59-94e2-0495d917a954.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]]]
2020-01-27 01:08:13.378  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to STAMINAL
2020-01-27 01:08:13.391  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to CONFIGURED
2020-01-27 01:08:13.396  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : run BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-b5a165a0-91f7-47eb-b75b-a1b8d1167634-ca.pem, certFile=/tmp/beacon-server-c89061f0-7447-49d6-91bb-c2a02d718092.pem, privateKeyFile=/tmp/beacon-server-e1e33324-2daa-4d59-94e2-0495d917a954.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null] as service
2020-01-27 01:08:14.037  INFO 5246 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Certificate with alias 'server' for Beacon server is present in keystore
2020-01-27 01:08:14.880  INFO 5246 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Starting beacon server
2020-01-27 01:08:15.106  INFO 5246 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Server Beacon started, listening on 33666
2020-01-27 01:08:15.109  INFO 5246 --- [pool-1-thread-2] c.ar4k.agent.core.AbstractAr4kService    : started service BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-b5a165a0-91f7-47eb-b75b-a1b8d1167634-ca.pem, certFile=/tmp/beacon-server-c89061f0-7447-49d6-91bb-c2a02d718092.pem, privateKeyFile=/tmp/beacon-server-e1e33324-2daa-4d59-94e2-0495d917a954.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]
2020-01-27 01:08:15.110  INFO 5246 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to RUNNING
2020-01-27 01:08:15.111  INFO 5246 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started org.springframework.statemachine.support.DefaultStateMachineExecutor@4ba43ea2
2020-01-27 01:08:15.111  INFO 5246 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started RUNNING CONFIGURED STAMINAL STASIS FAULTED KILLED INIT  / RUNNING / uuid=ea885ef8-5720-4c13-a9df-06fb116245d2 / id=null
2020-01-27 01:08:15.121  INFO 5246 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Started application in 18.854 seconds (JVM running for 27.671)
2020-01-27 01:08:27.264  INFO 5246 --- [Thread-511] c.a.a.tunnels.http.beacon.BeaconClient   : connection to beacon ok . I'm ciospo.rossonet.net_82c42487be4546d79d3a88c1e55074a0
2020-01-27 01:08:35.281  INFO 5246 --- [grpc-default-executor-0] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_82c42487be4546d79d3a88c1e55074a0"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_82c42487be4546d79d3a88c1e55074a0"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 7777
srcPort: 8888

2020-01-27 01:08:35.285  INFO 5246 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel -8004307303154629633 created
2020-01-27 01:08:35.558  INFO 5246 --- [Thread-511] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon -8004307303154629633
2020-01-27 01:08:35.577  INFO 5246 --- [Thread-511] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:7777
2020-01-27 01:08:36.075  INFO 5246 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 8888 with id_target -8004307303154629633/273c4e70-d629-4796-bed2-413a72147f0d started successfully
2020-01-27 01:08:41.144  INFO 5246 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session 3432583591282495092 to -8004307303154629633/273c4e70-d629-4796-bed2-413a72147f0d created
2020-01-27 01:08:41.223  INFO 5246 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0x3524d691, L:/127.0.0.1:8888 - R:/127.0.0.1:39650]) with session 3432583591282495092
2020-01-27 01:08:41.234  INFO 5246 --- [grpc-default-executor-2] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session 3432583591282495092 in tunnel -8004307303154629633
2020-01-27 01:08:41.308  INFO 5246 --- [grpc-default-executor-2] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session 3432583591282495092 to 127.0.0.1:7777 with id_target -8004307303154629633/589b9657-de2a-48d6-8956-8cf3e2a3d17d started successfully
2020-01-27 01:08:42.908  INFO 5246 --- [grpc-default-executor-0] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_82c42487be4546d79d3a88c1e55074a0"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_82c42487be4546d79d3a88c1e55074a0"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 22
srcPort: 34347

2020-01-27 01:08:42.910  INFO 5246 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel -786061624376867999 created
2020-01-27 01:08:43.337  INFO 5246 --- [Thread-511] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon -786061624376867999
2020-01-27 01:08:43.350  INFO 5246 --- [Thread-511] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:22
2020-01-27 01:08:43.541  INFO 5246 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 34347 with id_target -786061624376867999/6536dcbf-aad9-439e-8113-522512739ebe started successfully
2020-01-27 01:08:48.703  INFO 5246 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session 2371759640432689897 to -786061624376867999/6536dcbf-aad9-439e-8113-522512739ebe created
2020-01-27 01:08:48.712  INFO 5246 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0xa994f5b1, L:/127.0.0.1:34347 - R:/127.0.0.1:51550]) with session 2371759640432689897
2020-01-27 01:08:48.722  INFO 5246 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session 2371759640432689897 in tunnel -786061624376867999
2020-01-27 01:08:48.753  INFO 5246 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session 2371759640432689897 to 127.0.0.1:22 with id_target -786061624376867999/2d83c315-a6e5-4677-90ee-d3e7413f4757 started successfully
2020-01-27 01:09:08.154  INFO 5246 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : LOCAL SSH null
2020-01-27 01:09:08.155  INFO 5246 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : LOCAL SSH ERR null
2020-01-27 01:10:03.539  INFO 5246 --- [grpc-default-executor-0] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=-8004307303154629633, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_82c42487be4546d79d3a88c1e55074a0"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_82c42487be4546d79d3a88c1e55074a0"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:10:03.539  INFO 5246 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer -8004307303154629633 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:10:03.552  INFO 5246 --- [grpc-default-executor-3] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=-8004307303154629633, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_82c42487be4546d79d3a88c1e55074a0"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_82c42487be4546d79d3a88c1e55074a0"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:10:03.552  INFO 5246 --- [grpc-default-executor-3] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer -8004307303154629633 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:10:03.558  INFO 5246 --- [SpringContextShutdownHook] o.s.s.support.LifecycleObjectSupport     : stopped org.springframework.statemachine.support.DefaultStateMachineExecutor@4ba43ea2
2020-01-27 01:10:03.559  INFO 5246 --- [grpc-default-executor-1] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=-786061624376867999, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_82c42487be4546d79d3a88c1e55074a0"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_82c42487be4546d79d3a88c1e55074a0"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:10:03.559  INFO 5246 --- [grpc-default-executor-1] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer -786061624376867999 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:10:03.560  INFO 5246 --- [grpc-default-executor-3] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=-786061624376867999, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_82c42487be4546d79d3a88c1e55074a0"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_82c42487be4546d79d3a88c1e55074a0"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:10:03.562  INFO 5246 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write -786061624376867999/2d83c315-a6e5-4677-90ee-d3e7413f4757 session:0 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:10:03.562  INFO 5246 --- [grpc-default-executor-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write -8004307303154629633/273c4e70-d629-4796-bed2-413a72147f0d session:3432583591282495092 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:10:03.562  INFO 5246 --- [grpc-default-executor-3] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer -786061624376867999 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:10:03.566  INFO 5246 --- [grpc-default-executor-6] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write -786061624376867999/6536dcbf-aad9-439e-8113-522512739ebe session:2371759640432689897 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:10:03.567  INFO 5246 --- [grpc-default-executor-5] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write -8004307303154629633/589b9657-de2a-48d6-8956-8cf3e2a3d17d session:0 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:10:03.575  INFO 5246 --- [SpringContextShutdownHook] o.s.s.support.LifecycleObjectSupport     : stopped RUNNING CONFIGURED STAMINAL STASIS FAULTED KILLED INIT  /  / uuid=ea885ef8-5720-4c13-a9df-06fb116245d2 / id=null
2020-01-27 01:10:03.576  INFO 5246 --- [SpringContextShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-27 01:10:03.577  INFO 5246 --- [SpringContextShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 0 subscriber(s).
2020-01-27 01:10:03.577  INFO 5246 --- [SpringContextShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2020-01-27 01:10:03.586  INFO 5246 --- [SpringContextShutdownHook] o.s.s.support.LifecycleObjectSupport     : destroy called
2020-01-27 01:10:03.589  INFO 5246 --- [SpringContextShutdownHook] c.ar4k.agent.core.AbstractAr4kService    : stopped service BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-b5a165a0-91f7-47eb-b75b-a1b8d1167634-ca.pem, certFile=/tmp/beacon-server-c89061f0-7447-49d6-91bb-c2a02d718092.pem, privateKeyFile=/tmp/beacon-server-e1e33324-2daa-4d59-94e2-0495d917a954.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]
2020-01-27 01:10:03.623  INFO 5246 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel command
2020-01-27 01:10:03.624  INFO 5246 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : command [RPC interface] removed
2020-01-27 01:10:03.625  INFO 5246 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel logger
2020-01-27 01:10:03.625  INFO 5246 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : logger [logger queue] removed
2020-01-27 01:10:03.626  INFO 5246 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel system
2020-01-27 01:10:03.627  INFO 5246 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : system [local JVM system] removed
2020-01-27 01:10:03.627  INFO 5246 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel health
2020-01-27 01:10:03.628  INFO 5246 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : health [local machine hardware and software stats] removed
2020-01-27 01:10:18.769  INFO 6251 --- [pool-1-thread-2] o.s.boot.SpringApplication               : 
     _    ____  _  _   _         _                    _   
    / \  |  _ \| || | | | __    / \   __ _  ___ _ __ | |_ 
   / _ \ | |_) | || |_| |/ /   / _ \ / _` |/ _ \ '_ \| __|
  / ___ \|  _ <|__   _|   <   / ___ \ (_| |  __/ | | | |_ 
 /_/   \_\_| \_\__|_| |_|\_\ /_/   \_\__, |\___|_| |_|\__|
 | |__  _   _  |  _ \ ___  ___ ___  _|___/ __   ___| |_   
 | '_ \| | | | | |_) / _ \/ __/ __|/ _ \| '_ \ / _ \ __|  
 | |_) | |_| | |  _ < (_) \__ \__ \ (_) | | | |  __/ |_   
 |_.__/ \__, | |_| \_\___/|___/___/\___/|_| |_|\___|\__|  
        |___/                                             

BUILD 
based on Spring Boot Framework (v2.2.4.RELEASE)

Type help to list the available commands

You can use the TAB completation;
the CTRL-R to invoke the reverse-i-search in the history and
you can run a sequence of commands saved in a file.


2020-01-27 01:10:19.677  INFO 6251 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Starting application on ciospo.rossonet.net with PID 6251 (started by andrea in /home/andrea/privato/git/EdgeAgentAr4k/ar4k-terminal)
2020-01-27 01:10:19.680  INFO 6251 --- [pool-1-thread-2] o.s.boot.SpringApplication               : No active profile set, falling back to default profiles: default
2020-01-27 01:10:24.748  INFO 6251 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-27 01:10:24.780  INFO 6251 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-27 01:10:25.172  INFO 6251 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration' of type [org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration$$EnhancerBySpringCGLIB$$6f7f69fc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:10:25.219  INFO 6251 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:10:25.264  INFO 6251 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:10:25.283  INFO 6251 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:10:26.938  WARN 6251 --- [pool-1-thread-2] org.jline                                : Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)
2020-01-27 01:10:29.146  INFO 6251 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-27 01:10:29.148  INFO 6251 --- [pool-1-thread-2] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-27 01:10:29.150  INFO 6251 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2020-01-27 01:10:29.195  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : STARTING AGENT...
2020-01-27 01:10:29.259  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to INIT
2020-01-27 01:10:29.531  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : datastore on Anima started
2020-01-27 01:10:30.212  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : use keystore file KeystoreConfig [creationDate=2020-01-27T00:10:29.539Z, lastUpdate=2020-01-27T00:10:29.539Z, uniqueId=9efd4b32-f491-4dc6-8506-ff0072fede26, filePathPre=/tmp/server.ks, keystorePassword=*********, label=master-keytool, caAlias=server]
2020-01-27 01:10:30.629  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Certificate for anima: C=IT, ST=BO, L=Imola, OU=Ar4k, O=Rossonet s.c.a r.l., CN=rossonet-8a1d10ee-754c-43fd-9cb4-6f8cb31db17d - alias server
2020-01-27 01:10:30.639  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : 0/3 searching config...
2020-01-27 01:10:30.639  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : try base64Config
2020-01-27 01:10:30.656  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : found base64Config
2020-01-27 01:10:30.658  INFO 6251 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel system of type class org.ar4k.agent.core.data.channels.INoDataChannel
2020-01-27 01:10:30.667  INFO 6251 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : system [local JVM system] started
2020-01-27 01:10:30.668  INFO 6251 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel logger of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 01:10:30.671  INFO 6251 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child logger to system for scope ar4k-ai
2020-01-27 01:10:30.672  INFO 6251 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : logger [logger queue] started
2020-01-27 01:10:30.673  INFO 6251 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel health of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 01:10:30.673  INFO 6251 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child health to system for scope ar4k-ai
2020-01-27 01:10:30.674  INFO 6251 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : health [local machine hardware and software stats] started
2020-01-27 01:10:30.678  INFO 6251 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel command of type class org.ar4k.agent.core.data.channels.IQueueChannel
2020-01-27 01:10:30.691  INFO 6251 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child command to system for scope ar4k-ai
2020-01-27 01:10:30.692  INFO 6251 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : command [RPC interface] started
2020-01-27 01:10:31.075  WARN 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : created user admin
2020-01-27 01:10:31.154  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : TRY CONNECTION TO BEACON AT https://127.0.0.1:33666
2020-01-27 01:10:31.446  INFO 6251 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Certificate with alias 'server' for Beacon client is present in keystore
2020-01-27 01:10:31.964  INFO 6251 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : USE KEY FOR CLIENT: server target file -> /tmp/beacon-client-4db07f76-443b-49c4-bbaa-787c1c97c1db.key
2020-01-27 01:10:34.930  WARN 6251 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Beacon server connection is UNAVAILABLE: io exception
2020-01-27 01:10:34.936  INFO 6251 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   :  [M] finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666 -> io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)
	at org.ar4k.agent.tunnels.http.grpc.beacon.RpcServiceV1Grpc$RpcServiceV1BlockingStub.register(RpcServiceV1Grpc.java:1056)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.registerToBeacon(BeaconClient.java:424)

2020-01-27 01:10:34.939  INFO 6251 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Client Beacon started, connected state TRANSIENT_FAILURE
2020-01-27 01:10:34.943  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : the Beacon endpoint https://127.0.0.1:33666 return TRANSIENT_FAILURE
2020-01-27 01:10:34.944  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Starting with config: Ar4kConfig [creationDate=2020-01-27T00:10:16.875Z, lastUpdate=2020-01-27T00:10:16.875Z, uniqueId=4db8c996-c6a2-4102-ae07-7f3515e664ce, name=server-beacon, prompt=studio, promptColor=91, description=Template configurazione Agente Ar4k, beaconServer=null, autoRegisterBeaconServer=false, dataCenter=ALONE, version=0, subVersion=1, tagVersion=demo, author=Ar4k demo user, project=Ar4k Edge Agent Test Project 1, license=GNU AFFERO GENERAL PUBLIC LICENSE, tags=[], contexts=[], groups=[], targetRunLevel=RUNNING, preScript=null, postScript=null, initializeKeystore=true, sshdAuthorizedKeysPath=~/.ssh/authorized_keys, routerType=NONE, logoUrl=/static/img/ar4k.png, pots=[BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-2e399013-87c7-4b62-a910-0f3a387babfa-ca.pem, certFile=/tmp/beacon-server-8216c4b0-fcc5-4ee7-824b-e4f7e62b0b07.pem, privateKeyFile=/tmp/beacon-server-52ddb313-c129-4b2b-8fb3-65d84bb8d836.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]]]
2020-01-27 01:10:34.945  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to STAMINAL
2020-01-27 01:10:34.954  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to CONFIGURED
2020-01-27 01:10:34.956  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : run BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-2e399013-87c7-4b62-a910-0f3a387babfa-ca.pem, certFile=/tmp/beacon-server-8216c4b0-fcc5-4ee7-824b-e4f7e62b0b07.pem, privateKeyFile=/tmp/beacon-server-52ddb313-c129-4b2b-8fb3-65d84bb8d836.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null] as service
2020-01-27 01:10:35.715  INFO 6251 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Certificate with alias 'server' for Beacon server is present in keystore
2020-01-27 01:10:36.649  INFO 6251 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Starting beacon server
2020-01-27 01:10:36.982  INFO 6251 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Server Beacon started, listening on 33666
2020-01-27 01:10:36.998  INFO 6251 --- [pool-1-thread-2] c.ar4k.agent.core.AbstractAr4kService    : started service BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-2e399013-87c7-4b62-a910-0f3a387babfa-ca.pem, certFile=/tmp/beacon-server-8216c4b0-fcc5-4ee7-824b-e4f7e62b0b07.pem, privateKeyFile=/tmp/beacon-server-52ddb313-c129-4b2b-8fb3-65d84bb8d836.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]
2020-01-27 01:10:36.998  INFO 6251 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to RUNNING
2020-01-27 01:10:36.999  INFO 6251 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started org.springframework.statemachine.support.DefaultStateMachineExecutor@1ded4c77
2020-01-27 01:10:37.000  INFO 6251 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started RUNNING INIT KILLED FAULTED STAMINAL STASIS CONFIGURED  / RUNNING / uuid=13621bda-9194-4600-87bc-913079b7c88d / id=null
2020-01-27 01:10:37.024  INFO 6251 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Started application in 19.565 seconds (JVM running for 28.978)
2020-01-27 01:10:48.951  INFO 6251 --- [Thread-524] c.a.a.tunnels.http.beacon.BeaconClient   : connection to beacon ok . I'm ciospo.rossonet.net_d5a9606fca934a458c7eec6fc98164f3
2020-01-27 01:10:57.193  INFO 6251 --- [grpc-default-executor-1] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_d5a9606fca934a458c7eec6fc98164f3"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_d5a9606fca934a458c7eec6fc98164f3"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 7777
srcPort: 8888

2020-01-27 01:10:57.195  INFO 6251 --- [grpc-default-executor-1] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel 5107050629100356792 created
2020-01-27 01:10:57.230  INFO 6251 --- [Thread-524] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon 5107050629100356792
2020-01-27 01:10:57.246  INFO 6251 --- [Thread-524] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:7777
2020-01-27 01:10:57.738  INFO 6251 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 8888 with id_target 5107050629100356792/aabb07a5-4351-46de-ae23-d3c541954f5f started successfully
2020-01-27 01:11:02.793  INFO 6251 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session 2467728334187873761 to 5107050629100356792/aabb07a5-4351-46de-ae23-d3c541954f5f created
2020-01-27 01:11:02.890  INFO 6251 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0x772519a2, L:/127.0.0.1:8888 - R:/127.0.0.1:39758]) with session 2467728334187873761
2020-01-27 01:11:02.900  INFO 6251 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session 2467728334187873761 in tunnel 5107050629100356792
2020-01-27 01:11:02.989  INFO 6251 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session 2467728334187873761 to 127.0.0.1:7777 with id_target 5107050629100356792/02384cf4-1ef7-4377-a537-7df45b8d2dbc started successfully
2020-01-27 01:11:04.704  WARN 6251 --- [Thread-524] c.a.a.r.process.xpra.XpraSessionProcess  : new Xpra session created on port 33969
2020-01-27 01:11:04.865  INFO 6251 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : REMOTE XPRA reply: "33969\n"

2020-01-27 01:11:05.787  INFO 6251 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : REMOTE XPRA LIST reply: "[test-xpra => http://172.17.0.1:33969, test-xpra => http://192.168.122.1:33969, test-xpra => http://192.168.0.163:33969, test-xpra => http://127.0.0.1:33969]\n"

2020-01-27 01:11:05.807  INFO 6251 --- [grpc-default-executor-1] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_d5a9606fca934a458c7eec6fc98164f3"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_d5a9606fca934a458c7eec6fc98164f3"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 33969
srcPort: 33307

2020-01-27 01:11:05.807  INFO 6251 --- [grpc-default-executor-1] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel -4080845188254776599 created
2020-01-27 01:11:06.268  INFO 6251 --- [Thread-524] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon -4080845188254776599
2020-01-27 01:11:06.278  INFO 6251 --- [Thread-524] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:33969
2020-01-27 01:11:06.439  INFO 6251 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 33307 with id_target -4080845188254776599/82a462cb-da39-462d-8613-32803139108c started successfully
2020-01-27 01:11:22.859  INFO 6251 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session -3637410231114120545 to -4080845188254776599/82a462cb-da39-462d-8613-32803139108c created
2020-01-27 01:11:23.126  INFO 6251 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0x3c4f376d, L:/127.0.0.1:33307 - R:/127.0.0.1:36604]) with session -3637410231114120545
2020-01-27 01:11:23.147  INFO 6251 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session -3637410231114120545 in tunnel -4080845188254776599
2020-01-27 01:11:23.229  INFO 6251 --- [grpc-default-executor-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : during connection  ->  [M] Connessione rifiutata -> io.netty.channel.AbstractChannel$AnnotatedConnectException: Connessione rifiutata: /127.0.0.1:33969
Caused by: java.net.ConnectException: Connessione rifiutata
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:11:23.231  INFO 6251 --- [grpc-default-executor-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write -4080845188254776599/70645274-3c38-4c4d-820a-2b8940e3b953 session:0 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: Failed to read message.
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:622)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:595)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at org.ar4k.agent.tunnels.http.beacon.socket.Ar4kNetworkHub$BeaconObserver.createSocketSessionClient(Ar4kNetworkHub.java:113)
	at org.ar4k.agent.tunnels.http.beacon.socket.Ar4kNetworkHub$BeaconObserver.onNext(Ar4kNetworkHub.java:149)
	at org.ar4k.agent.tunnels.http.beacon.socket.Ar4kNetworkHub$BeaconObserver.onNext(Ar4kNetworkHub.java:1)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:436)
	at io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:610)
	... 6 more

2020-01-27 01:11:23.252  INFO 6251 --- [grpc-default-executor-2] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=-4080845188254776599, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_d5a9606fca934a458c7eec6fc98164f3"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_d5a9606fca934a458c7eec6fc98164f3"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:11:23.252  INFO 6251 --- [grpc-default-executor-2] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer -4080845188254776599 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:11:23.302  INFO 6251 --- [grpc-default-executor-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write -4080845188254776599/82a462cb-da39-462d-8613-32803139108c session:-3637410231114120545 ->  [M] io.grpc.StatusRuntimeException: UNKNOWN
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:11:23.318 ERROR 6251 --- [grpc-default-executor-0] io.grpc.internal.SerializingExecutor     : Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable@921ccec

io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onNext(ServerCalls.java:341)
	at org.ar4k.agent.tunnels.http.beacon.socket.TunnelRunnerBeaconServer.onNext(TunnelRunnerBeaconServer.java:62)
	at org.ar4k.agent.tunnels.http.beacon.BeaconServer$TunnelService$1.onNext(BeaconServer.java:455)
	at org.ar4k.agent.tunnels.http.beacon.BeaconServer$TunnelService$1.onNext(BeaconServer.java:1)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:251)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:309)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:292)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:782)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:15:50.863  INFO 6251 --- [SpringContextShutdownHook] o.s.s.support.LifecycleObjectSupport     : stopped org.springframework.statemachine.support.DefaultStateMachineExecutor@1ded4c77
2020-01-27 01:15:50.868  INFO 6251 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 5107050629100356792/02384cf4-1ef7-4377-a537-7df45b8d2dbc session:0 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:15:50.871  INFO 6251 --- [grpc-default-executor-4] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=5107050629100356792, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_d5a9606fca934a458c7eec6fc98164f3"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_d5a9606fca934a458c7eec6fc98164f3"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:15:50.879  INFO 6251 --- [grpc-default-executor-4] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 5107050629100356792 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:15:50.880  INFO 6251 --- [grpc-default-executor-3] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=5107050629100356792, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_d5a9606fca934a458c7eec6fc98164f3"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_d5a9606fca934a458c7eec6fc98164f3"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:15:50.880  INFO 6251 --- [grpc-default-executor-5] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 5107050629100356792/aabb07a5-4351-46de-ae23-d3c541954f5f session:2467728334187873761 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:15:50.881  INFO 6251 --- [grpc-default-executor-3] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 5107050629100356792 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:15:50.884  INFO 6251 --- [SpringContextShutdownHook] o.s.s.support.LifecycleObjectSupport     : stopped RUNNING INIT KILLED FAULTED STAMINAL STASIS CONFIGURED  /  / uuid=13621bda-9194-4600-87bc-913079b7c88d / id=null
2020-01-27 01:15:50.885  INFO 6251 --- [SpringContextShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-27 01:15:50.904  INFO 6251 --- [SpringContextShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 0 subscriber(s).
2020-01-27 01:15:50.904  INFO 6251 --- [SpringContextShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2020-01-27 01:15:50.920  INFO 6251 --- [SpringContextShutdownHook] o.s.s.support.LifecycleObjectSupport     : destroy called
2020-01-27 01:15:50.923  WARN 6251 --- [Thread-524] c.a.a.tunnels.http.beacon.BeaconClient   : error sendHardwareInfo -> UNAVAILABLE: io exception
2020-01-27 01:15:50.924  INFO 6251 --- [Thread-524] c.a.a.tunnels.http.beacon.BeaconClient   : Exception ->  [M] finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666 -> io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)
	at org.ar4k.agent.tunnels.http.grpc.beacon.RpcServiceV1Grpc$RpcServiceV1BlockingStub.sendHealth(RpcServiceV1Grpc.java:1095)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.sendHardwareInfo(BeaconClient.java:606)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.run(BeaconClient.java:452)
	at java.lang.Thread.run(Thread.java:748)
Caused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666
Caused by: java.net.ConnectException: finishConnect(..) failed: Connessione rifiutata
	at io.grpc.netty.shaded.io.netty.channel.unix.Errors.throwConnectException(Errors.java:124)
	at io.grpc.netty.shaded.io.netty.channel.unix.Socket.finishConnect(Socket.java:243)
	at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:660)
	at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:637)
	at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:524)
	at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:473)
	at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:383)
	at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044)
	at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:15:50.938  INFO 6251 --- [SpringContextShutdownHook] c.ar4k.agent.core.AbstractAr4kService    : stopped service BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-2e399013-87c7-4b62-a910-0f3a387babfa-ca.pem, certFile=/tmp/beacon-server-8216c4b0-fcc5-4ee7-824b-e4f7e62b0b07.pem, privateKeyFile=/tmp/beacon-server-52ddb313-c129-4b2b-8fb3-65d84bb8d836.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]
2020-01-27 01:15:50.973  INFO 6251 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel logger
2020-01-27 01:15:50.974  INFO 6251 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : logger [logger queue] removed
2020-01-27 01:15:50.975  INFO 6251 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel system
2020-01-27 01:15:50.976  INFO 6251 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : system [local JVM system] removed
2020-01-27 01:15:50.976  INFO 6251 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel command
2020-01-27 01:15:50.977  INFO 6251 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : command [RPC interface] removed
2020-01-27 01:15:50.977  INFO 6251 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel health
2020-01-27 01:15:50.978  INFO 6251 --- [SpringContextShutdownHook] c.ar4k.agent.core.data.DataAddress       : health [local machine hardware and software stats] removed
2020-01-27 01:28:21.583  INFO 21143 --- [pool-1-thread-2] o.s.boot.SpringApplication               : 
     _    ____  _  _   _         _                    _   
    / \  |  _ \| || | | | __    / \   __ _  ___ _ __ | |_ 
   / _ \ | |_) | || |_| |/ /   / _ \ / _` |/ _ \ '_ \| __|
  / ___ \|  _ <|__   _|   <   / ___ \ (_| |  __/ | | | |_ 
 /_/   \_\_| \_\__|_| |_|\_\ /_/   \_\__, |\___|_| |_|\__|
 | |__  _   _  |  _ \ ___  ___ ___  _|___/ __   ___| |_   
 | '_ \| | | | | |_) / _ \/ __/ __|/ _ \| '_ \ / _ \ __|  
 | |_) | |_| | |  _ < (_) \__ \__ \ (_) | | | |  __/ |_   
 |_.__/ \__, | |_| \_\___/|___/___/\___/|_| |_|\___|\__|  
        |___/                                             

BUILD 
based on Spring Boot Framework (v2.2.4.RELEASE)

Type help to list the available commands

You can use the TAB completation;
the CTRL-R to invoke the reverse-i-search in the history and
you can run a sequence of commands saved in a file.


2020-01-27 01:28:22.164  INFO 21143 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Starting application on ciospo.rossonet.net with PID 21143 (started by andrea in /home/andrea/privato/git/EdgeAgentAr4k/ar4k-terminal)
2020-01-27 01:28:22.174  INFO 21143 --- [pool-1-thread-2] o.s.boot.SpringApplication               : No active profile set, falling back to default profiles: default
2020-01-27 01:28:25.215  INFO 21143 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-27 01:28:25.237  INFO 21143 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-27 01:28:25.527  INFO 21143 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration' of type [org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration$$EnhancerBySpringCGLIB$$cc74d16c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:28:25.560  INFO 21143 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:28:25.613  INFO 21143 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:28:25.619  INFO 21143 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:28:26.854  WARN 21143 --- [pool-1-thread-2] org.jline                                : Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)
2020-01-27 01:28:28.411  INFO 21143 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-27 01:28:28.414  INFO 21143 --- [pool-1-thread-2] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-27 01:28:28.414  INFO 21143 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2020-01-27 01:28:28.454  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : STARTING AGENT...
2020-01-27 01:28:28.472  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to INIT
2020-01-27 01:28:28.617  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : datastore on Anima started
2020-01-27 01:28:28.997  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : use keystore file KeystoreConfig [creationDate=2020-01-27T00:28:28.619Z, lastUpdate=2020-01-27T00:28:28.619Z, uniqueId=b7b3e596-dc18-4706-9c8f-9d5284e0a780, filePathPre=/tmp/server.ks, keystorePassword=*********, label=master-keytool, caAlias=server]
2020-01-27 01:28:29.269  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Certificate for anima: C=IT, ST=BO, L=Imola, OU=Ar4k, O=Rossonet s.c.a r.l., CN=rossonet-35a58b21-8f32-496e-a3a3-eb0fa75e8f73 - alias server
2020-01-27 01:28:29.270  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : 0/3 searching config...
2020-01-27 01:28:29.271  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : try base64Config
2020-01-27 01:28:29.275  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : found base64Config
2020-01-27 01:28:29.277  INFO 21143 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel system of type class org.ar4k.agent.core.data.channels.INoDataChannel
2020-01-27 01:28:29.281  INFO 21143 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : system [local JVM system] started
2020-01-27 01:28:29.282  INFO 21143 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel logger of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 01:28:29.284  INFO 21143 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child logger to system for scope ar4k-ai
2020-01-27 01:28:29.285  INFO 21143 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : logger [logger queue] started
2020-01-27 01:28:29.285  INFO 21143 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel health of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 01:28:29.286  INFO 21143 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child health to system for scope ar4k-ai
2020-01-27 01:28:29.286  INFO 21143 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : health [local machine hardware and software stats] started
2020-01-27 01:28:29.290  INFO 21143 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel command of type class org.ar4k.agent.core.data.channels.IQueueChannel
2020-01-27 01:28:29.293  INFO 21143 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child command to system for scope ar4k-ai
2020-01-27 01:28:29.293  INFO 21143 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : command [RPC interface] started
2020-01-27 01:28:29.470  WARN 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : created user admin
2020-01-27 01:28:29.472  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : TRY CONNECTION TO BEACON AT https://127.0.0.1:33666
2020-01-27 01:28:29.624  INFO 21143 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Certificate with alias 'server' for Beacon client is present in keystore
2020-01-27 01:28:29.924  INFO 21143 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : USE KEY FOR CLIENT: server target file -> /tmp/beacon-client-0425c612-6785-428a-b389-03fb056f8229.key
2020-01-27 01:28:31.903  WARN 21143 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Beacon server connection is UNAVAILABLE: io exception
2020-01-27 01:28:31.906  INFO 21143 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   :  [M] finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666 -> io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)
	at org.ar4k.agent.tunnels.http.grpc.beacon.RpcServiceV1Grpc$RpcServiceV1BlockingStub.register(RpcServiceV1Grpc.java:1056)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.registerToBeacon(BeaconClient.java:424)

2020-01-27 01:28:31.909  INFO 21143 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Client Beacon started, connected state TRANSIENT_FAILURE
2020-01-27 01:28:31.911  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : the Beacon endpoint https://127.0.0.1:33666 return TRANSIENT_FAILURE
2020-01-27 01:28:31.911  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Starting with config: Ar4kConfig [creationDate=2020-01-27T00:28:20.468Z, lastUpdate=2020-01-27T00:28:20.468Z, uniqueId=bff59882-3047-4e16-a706-115e52796767, name=server-beacon, prompt=studio, promptColor=91, description=Template configurazione Agente Ar4k, beaconServer=null, autoRegisterBeaconServer=false, dataCenter=ALONE, version=0, subVersion=1, tagVersion=demo, author=Ar4k demo user, project=Ar4k Edge Agent Test Project 1, license=GNU AFFERO GENERAL PUBLIC LICENSE, tags=[], contexts=[], groups=[], targetRunLevel=RUNNING, preScript=null, postScript=null, initializeKeystore=true, sshdAuthorizedKeysPath=~/.ssh/authorized_keys, routerType=NONE, logoUrl=/static/img/ar4k.png, pots=[BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-698af54c-4ccf-44f3-b993-e78c6ebcbe4e-ca.pem, certFile=/tmp/beacon-server-bbfdfa5b-ba5b-41cb-a9a6-61e7154788e1.pem, privateKeyFile=/tmp/beacon-server-09947365-7bc8-432a-b53c-1c8e8f47bfcf.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]]]
2020-01-27 01:28:31.912  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to STAMINAL
2020-01-27 01:28:31.920  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to CONFIGURED
2020-01-27 01:28:31.922  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : run BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-698af54c-4ccf-44f3-b993-e78c6ebcbe4e-ca.pem, certFile=/tmp/beacon-server-bbfdfa5b-ba5b-41cb-a9a6-61e7154788e1.pem, privateKeyFile=/tmp/beacon-server-09947365-7bc8-432a-b53c-1c8e8f47bfcf.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null] as service
2020-01-27 01:28:32.349  INFO 21143 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Certificate with alias 'server' for Beacon server is present in keystore
2020-01-27 01:28:32.846  INFO 21143 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Starting beacon server
2020-01-27 01:28:32.975  INFO 21143 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Server Beacon started, listening on 33666
2020-01-27 01:28:32.976  INFO 21143 --- [pool-1-thread-2] c.ar4k.agent.core.AbstractAr4kService    : started service BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-698af54c-4ccf-44f3-b993-e78c6ebcbe4e-ca.pem, certFile=/tmp/beacon-server-bbfdfa5b-ba5b-41cb-a9a6-61e7154788e1.pem, privateKeyFile=/tmp/beacon-server-09947365-7bc8-432a-b53c-1c8e8f47bfcf.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]
2020-01-27 01:28:32.977  INFO 21143 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to RUNNING
2020-01-27 01:28:32.978  INFO 21143 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started org.springframework.statemachine.support.DefaultStateMachineExecutor@292dbe36
2020-01-27 01:28:32.978  INFO 21143 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started RUNNING STAMINAL CONFIGURED FAULTED STASIS INIT KILLED  / RUNNING / uuid=a440abcf-23cf-4ca5-91b6-ed06bf7e76a4 / id=null
2020-01-27 01:28:32.985  INFO 21143 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Started application in 12.179 seconds (JVM running for 18.055)
2020-01-27 01:28:46.431  INFO 21143 --- [Thread-537] c.a.a.tunnels.http.beacon.BeaconClient   : connection to beacon ok . I'm ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f
2020-01-27 01:28:53.129  INFO 21143 --- [grpc-default-executor-0] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 7777
srcPort: 8888

2020-01-27 01:28:53.131  INFO 21143 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel 6715693753743068855 created
2020-01-27 01:28:53.709  INFO 21143 --- [Thread-537] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon 6715693753743068855
2020-01-27 01:28:53.720  INFO 21143 --- [Thread-537] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:7777
2020-01-27 01:28:54.070  INFO 21143 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 8888 with id_target 6715693753743068855/4a12ee40-bbad-456a-a6fb-2473f5b5d06e started successfully
2020-01-27 01:28:59.102  INFO 21143 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session -7188022008664669200 to 6715693753743068855/4a12ee40-bbad-456a-a6fb-2473f5b5d06e created
2020-01-27 01:28:59.167  INFO 21143 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0x63b85f0c, L:/127.0.0.1:8888 - R:/127.0.0.1:40054]) with session -7188022008664669200
2020-01-27 01:28:59.181  INFO 21143 --- [grpc-default-executor-2] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session -7188022008664669200 in tunnel 6715693753743068855
2020-01-27 01:28:59.208  INFO 21143 --- [grpc-default-executor-2] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session -7188022008664669200 to 127.0.0.1:7777 with id_target 6715693753743068855/7ca43064-2e01-43cf-b23c-04577d835945 started successfully
2020-01-27 01:29:00.542  WARN 21143 --- [Thread-537] c.a.a.r.process.xpra.XpraSessionProcess  : new Xpra session created on port 34561
2020-01-27 01:29:00.598  INFO 21143 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : REMOTE XPRA reply: "34561\n"

2020-01-27 01:29:01.505  INFO 21143 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : REMOTE XPRA LIST reply: "[test-xpra => http://172.17.0.1:34561, test-xpra => http://192.168.122.1:34561, test-xpra => http://192.168.0.163:34561, test-xpra => http://127.0.0.1:34561]\n"

2020-01-27 01:29:01.516  INFO 21143 --- [grpc-default-executor-2] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 34561
srcPort: 46215

2020-01-27 01:29:01.517  INFO 21143 --- [grpc-default-executor-2] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel 3636458924812554098 created
2020-01-27 01:29:02.058  INFO 21143 --- [Thread-537] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon 3636458924812554098
2020-01-27 01:29:02.068  INFO 21143 --- [Thread-537] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:34561
2020-01-27 01:29:02.151  INFO 21143 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 46215 with id_target 3636458924812554098/f5831d2c-1f47-4c87-8c2f-6d1593353678 started successfully
2020-01-27 01:29:14.220  INFO 21143 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session 6151556920213849055 to 3636458924812554098/f5831d2c-1f47-4c87-8c2f-6d1593353678 created
2020-01-27 01:29:14.395  INFO 21143 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0x1fa264fc, L:/127.0.0.1:46215 - R:/127.0.0.1:39830]) with session 6151556920213849055
2020-01-27 01:29:14.420  INFO 21143 --- [grpc-default-executor-2] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session 6151556920213849055 in tunnel 3636458924812554098
2020-01-27 01:29:14.452  INFO 21143 --- [grpc-default-executor-2] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session 6151556920213849055 to 127.0.0.1:34561 with id_target 3636458924812554098/ae5b9f38-8e2e-4c9d-83db-3d5dfaa559a8 started successfully
2020-01-27 01:29:35.909  INFO 21143 --- [nioEventLoopGroup-7-2] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session -373398913741926828 to 3636458924812554098/f5831d2c-1f47-4c87-8c2f-6d1593353678 created
2020-01-27 01:29:36.064  INFO 21143 --- [nioEventLoopGroup-7-2] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0x07a4d147, L:/127.0.0.1:46215 - R:/127.0.0.1:39836]) with session -373398913741926828
2020-01-27 01:29:36.075  INFO 21143 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session -373398913741926828 in tunnel 3636458924812554098
2020-01-27 01:29:36.125  INFO 21143 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session -373398913741926828 to 127.0.0.1:34561 with id_target 3636458924812554098/ae5b9f38-8e2e-4c9d-83db-3d5dfaa559a8 started successfully
2020-01-27 01:30:31.979  INFO 21143 --- [nioEventLoopGroup-7-3] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session -7281944150052483818 to 3636458924812554098/f5831d2c-1f47-4c87-8c2f-6d1593353678 created
2020-01-27 01:30:32.146  INFO 21143 --- [nioEventLoopGroup-7-3] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0x14adfa95, L:/127.0.0.1:46215 - R:/127.0.0.1:39840]) with session -7281944150052483818
2020-01-27 01:30:32.169  INFO 21143 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session -7281944150052483818 in tunnel 3636458924812554098
2020-01-27 01:30:32.193  INFO 21143 --- [grpc-default-executor-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session -7281944150052483818 to 127.0.0.1:34561 with id_target 3636458924812554098/ae5b9f38-8e2e-4c9d-83db-3d5dfaa559a8 started successfully
2020-01-27 01:30:41.583  WARN 21143 --- [nioEventLoopGroup-7-3] io.netty.channel.nio.NioEventLoop        : Selector.select() returned prematurely 512 times in a row; rebuilding Selector io.netty.channel.nio.SelectedSelectionKeySetSelector@29038b84.
2020-01-27 01:30:41.587  INFO 21143 --- [nioEventLoopGroup-7-3] io.netty.channel.nio.NioEventLoop        : Migrated 0 channel(s) to the new Selector.
2020-01-27 01:31:07.162  INFO 21143 --- [main] c.ar4k.agent.core.AbstractAr4kService    : stopped service BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-698af54c-4ccf-44f3-b993-e78c6ebcbe4e-ca.pem, certFile=/tmp/beacon-server-bbfdfa5b-ba5b-41cb-a9a6-61e7154788e1.pem, privateKeyFile=/tmp/beacon-server-09947365-7bc8-432a-b53c-1c8e8f47bfcf.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]
2020-01-27 01:31:07.181  INFO 21143 --- [grpc-default-executor-1] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=6715693753743068855, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.182  INFO 21143 --- [grpc-default-executor-1] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 6715693753743068855 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.186  INFO 21143 --- [grpc-default-executor-3] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=6715693753743068855, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.187  INFO 21143 --- [grpc-default-executor-3] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 6715693753743068855 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.192  INFO 21143 --- [grpc-default-executor-5] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=3636458924812554098, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
, sessions=3] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.192  INFO 21143 --- [grpc-default-executor-5] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 3636458924812554098 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.221  INFO 21143 --- [grpc-default-executor-4] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=3636458924812554098, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
, sessions=3] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.222  INFO 21143 --- [grpc-default-executor-4] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 3636458924812554098 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.229  INFO 21143 --- [grpc-default-executor-1] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=3636458924812554098, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
, sessions=3] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.229  INFO 21143 --- [grpc-default-executor-7] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=3636458924812554098, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_bb34637eb2db4da8aa9dd9268f1f239f"
, sessions=3] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.230  INFO 21143 --- [grpc-default-executor-1] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 3636458924812554098 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.231  INFO 21143 --- [grpc-default-executor-7] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 3636458924812554098 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.250  INFO 21143 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel health
2020-01-27 01:31:07.257  INFO 21143 --- [grpc-default-executor-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 6715693753743068855/4a12ee40-bbad-456a-a6fb-2473f5b5d06e session:-7188022008664669200 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.257  INFO 21143 --- [grpc-default-executor-8] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 3636458924812554098/f5831d2c-1f47-4c87-8c2f-6d1593353678 session:6151556920213849055 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.257  INFO 21143 --- [grpc-default-executor-4] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 3636458924812554098/f5831d2c-1f47-4c87-8c2f-6d1593353678 session:-7281944150052483818 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.258  INFO 21143 --- [grpc-default-executor-3] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 3636458924812554098/f5831d2c-1f47-4c87-8c2f-6d1593353678 session:-373398913741926828 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.258  INFO 21143 --- [grpc-default-executor-2] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 3636458924812554098/ae5b9f38-8e2e-4c9d-83db-3d5dfaa559a8 session:0 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.258  INFO 21143 --- [grpc-default-executor-7] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 6715693753743068855/7ca43064-2e01-43cf-b23c-04577d835945 session:0 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.265  INFO 21143 --- [main] c.ar4k.agent.core.data.DataAddress       : health [local machine hardware and software stats] removed
2020-01-27 01:31:07.268  INFO 21143 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel command
2020-01-27 01:31:07.270  INFO 21143 --- [main] c.ar4k.agent.core.data.DataAddress       : command [RPC interface] removed
2020-01-27 01:31:07.271  INFO 21143 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel logger
2020-01-27 01:31:07.273  INFO 21143 --- [main] c.ar4k.agent.core.data.DataAddress       : logger [logger queue] removed
2020-01-27 01:31:07.274  INFO 21143 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel system
2020-01-27 01:31:07.275  INFO 21143 --- [main] c.ar4k.agent.core.data.DataAddress       : system [local JVM system] removed
2020-01-27 01:31:07.288  INFO 21143 --- [main] class org.ar4k.agent.core.Anima          : State change in ANIMA to KILLED
2020-01-27 01:31:07.290  INFO 21143 --- [main] o.s.s.support.LifecycleObjectSupport     : stopped org.springframework.statemachine.support.DefaultStateMachineExecutor@292dbe36
2020-01-27 01:31:07.292  INFO 21143 --- [main] o.s.s.support.LifecycleObjectSupport     : stopped RUNNING STAMINAL CONFIGURED FAULTED STASIS INIT KILLED  /  / uuid=a440abcf-23cf-4ca5-91b6-ed06bf7e76a4 / id=null
2020-01-27 01:31:07.439  WARN 21143 --- [Thread-537] c.a.a.tunnels.http.beacon.BeaconClient   : error sendHardwareInfo -> UNAVAILABLE: io exception
2020-01-27 01:31:07.440  INFO 21143 --- [Thread-537] c.a.a.tunnels.http.beacon.BeaconClient   : Exception ->  [M] finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666 -> io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)
	at org.ar4k.agent.tunnels.http.grpc.beacon.RpcServiceV1Grpc$RpcServiceV1BlockingStub.sendHealth(RpcServiceV1Grpc.java:1095)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.sendHardwareInfo(BeaconClient.java:606)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.run(BeaconClient.java:452)
	at java.lang.Thread.run(Thread.java:748)
Caused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666
Caused by: java.net.ConnectException: finishConnect(..) failed: Connessione rifiutata
	at io.grpc.netty.shaded.io.netty.channel.unix.Errors.throwConnectException(Errors.java:124)
	at io.grpc.netty.shaded.io.netty.channel.unix.Socket.finishConnect(Socket.java:243)
	at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:660)
	at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:637)
	at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:524)
	at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:473)
	at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:383)
	at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044)
	at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:31:07.916  INFO 21143 --- [SpringContextShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-27 01:31:07.920  INFO 21143 --- [SpringContextShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 0 subscriber(s).
2020-01-27 01:31:07.920  INFO 21143 --- [SpringContextShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2020-01-27 01:31:07.932  INFO 21143 --- [SpringContextShutdownHook] o.s.s.support.LifecycleObjectSupport     : destroy called
2020-01-27 01:35:01.504  INFO 28727 --- [pool-1-thread-2] o.s.boot.SpringApplication               : 
     _    ____  _  _   _         _                    _   
    / \  |  _ \| || | | | __    / \   __ _  ___ _ __ | |_ 
   / _ \ | |_) | || |_| |/ /   / _ \ / _` |/ _ \ '_ \| __|
  / ___ \|  _ <|__   _|   <   / ___ \ (_| |  __/ | | | |_ 
 /_/   \_\_| \_\__|_| |_|\_\ /_/   \_\__, |\___|_| |_|\__|
 | |__  _   _  |  _ \ ___  ___ ___  _|___/ __   ___| |_   
 | '_ \| | | | | |_) / _ \/ __/ __|/ _ \| '_ \ / _ \ __|  
 | |_) | |_| | |  _ < (_) \__ \__ \ (_) | | | |  __/ |_   
 |_.__/ \__, | |_| \_\___/|___/___/\___/|_| |_|\___|\__|  
        |___/                                             

BUILD 
based on Spring Boot Framework (v2.2.4.RELEASE)

Type help to list the available commands

You can use the TAB completation;
the CTRL-R to invoke the reverse-i-search in the history and
you can run a sequence of commands saved in a file.


2020-01-27 01:35:02.056  INFO 28727 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Starting application on ciospo.rossonet.net with PID 28727 (started by andrea in /home/andrea/privato/git/EdgeAgentAr4k/ar4k-terminal)
2020-01-27 01:35:02.060  INFO 28727 --- [pool-1-thread-2] o.s.boot.SpringApplication               : No active profile set, falling back to default profiles: default
2020-01-27 01:35:05.179  INFO 28727 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-27 01:35:05.202  INFO 28727 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-27 01:35:05.455  INFO 28727 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration' of type [org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration$$EnhancerBySpringCGLIB$$63bf2833] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:35:05.483  INFO 28727 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:35:05.517  INFO 28727 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:35:05.522  INFO 28727 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:35:06.681  WARN 28727 --- [pool-1-thread-2] org.jline                                : Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)
2020-01-27 01:35:08.256  INFO 28727 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-27 01:35:08.256  INFO 28727 --- [pool-1-thread-2] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-27 01:35:08.257  INFO 28727 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2020-01-27 01:35:08.290  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : STARTING AGENT...
2020-01-27 01:35:08.310  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to INIT
2020-01-27 01:35:08.447  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : datastore on Anima started
2020-01-27 01:35:08.764  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : use keystore file KeystoreConfig [creationDate=2020-01-27T00:35:08.448Z, lastUpdate=2020-01-27T00:35:08.448Z, uniqueId=f985ffac-63bb-42f7-9bd7-01265502b537, filePathPre=/tmp/server.ks, keystorePassword=*********, label=master-keytool, caAlias=server]
2020-01-27 01:35:09.016  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Certificate for anima: C=IT, ST=BO, L=Imola, OU=Ar4k, O=Rossonet s.c.a r.l., CN=rossonet-ffdf0a08-f4d0-4c2a-9379-080ac9aee96a - alias server
2020-01-27 01:35:09.017  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : 0/3 searching config...
2020-01-27 01:35:09.017  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : try base64Config
2020-01-27 01:35:09.021  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : found base64Config
2020-01-27 01:35:09.023  INFO 28727 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel system of type class org.ar4k.agent.core.data.channels.INoDataChannel
2020-01-27 01:35:09.031  INFO 28727 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : system [local JVM system] started
2020-01-27 01:35:09.032  INFO 28727 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel logger of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 01:35:09.034  INFO 28727 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child logger to system for scope ar4k-ai
2020-01-27 01:35:09.035  INFO 28727 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : logger [logger queue] started
2020-01-27 01:35:09.041  INFO 28727 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel health of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 01:35:09.042  INFO 28727 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child health to system for scope ar4k-ai
2020-01-27 01:35:09.042  INFO 28727 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : health [local machine hardware and software stats] started
2020-01-27 01:35:09.046  INFO 28727 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel command of type class org.ar4k.agent.core.data.channels.IQueueChannel
2020-01-27 01:35:09.049  INFO 28727 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child command to system for scope ar4k-ai
2020-01-27 01:35:09.050  INFO 28727 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : command [RPC interface] started
2020-01-27 01:35:09.253  WARN 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : created user admin
2020-01-27 01:35:09.255  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : TRY CONNECTION TO BEACON AT https://127.0.0.1:33666
2020-01-27 01:35:09.448  INFO 28727 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Certificate with alias 'server' for Beacon client is present in keystore
2020-01-27 01:35:09.794  INFO 28727 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : USE KEY FOR CLIENT: server target file -> /tmp/beacon-client-7f6da60f-435a-402d-99ae-caea68249f53.key
2020-01-27 01:35:11.558  WARN 28727 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Beacon server connection is UNAVAILABLE: io exception
2020-01-27 01:35:11.560  INFO 28727 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   :  [M] finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666 -> io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)
	at org.ar4k.agent.tunnels.http.grpc.beacon.RpcServiceV1Grpc$RpcServiceV1BlockingStub.register(RpcServiceV1Grpc.java:1056)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.registerToBeacon(BeaconClient.java:424)

2020-01-27 01:35:11.562  INFO 28727 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Client Beacon started, connected state TRANSIENT_FAILURE
2020-01-27 01:35:11.563  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : the Beacon endpoint https://127.0.0.1:33666 return TRANSIENT_FAILURE
2020-01-27 01:35:11.563  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Starting with config: Ar4kConfig [creationDate=2020-01-27T00:35:00.317Z, lastUpdate=2020-01-27T00:35:00.317Z, uniqueId=023a93de-37d8-441c-9f05-62c0bb34cd43, name=server-beacon, prompt=studio, promptColor=91, description=Template configurazione Agente Ar4k, beaconServer=null, autoRegisterBeaconServer=false, dataCenter=ALONE, version=0, subVersion=1, tagVersion=demo, author=Ar4k demo user, project=Ar4k Edge Agent Test Project 1, license=GNU AFFERO GENERAL PUBLIC LICENSE, tags=[], contexts=[], groups=[], targetRunLevel=RUNNING, preScript=null, postScript=null, initializeKeystore=true, sshdAuthorizedKeysPath=~/.ssh/authorized_keys, routerType=NONE, logoUrl=/static/img/ar4k.png, pots=[BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-17779d63-9994-43a4-abcb-cf09c8848cd1-ca.pem, certFile=/tmp/beacon-server-53d7c524-dd5a-49fa-8fc3-09941b0b5752.pem, privateKeyFile=/tmp/beacon-server-a0bef648-0e38-4440-be2b-2469a0bc7072.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]]]
2020-01-27 01:35:11.564  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to STAMINAL
2020-01-27 01:35:11.570  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to CONFIGURED
2020-01-27 01:35:11.572  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : run BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-17779d63-9994-43a4-abcb-cf09c8848cd1-ca.pem, certFile=/tmp/beacon-server-53d7c524-dd5a-49fa-8fc3-09941b0b5752.pem, privateKeyFile=/tmp/beacon-server-a0bef648-0e38-4440-be2b-2469a0bc7072.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null] as service
2020-01-27 01:35:11.931  INFO 28727 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Certificate with alias 'server' for Beacon server is present in keystore
2020-01-27 01:35:12.367  INFO 28727 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Starting beacon server
2020-01-27 01:35:12.519  INFO 28727 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Server Beacon started, listening on 33666
2020-01-27 01:35:12.521  INFO 28727 --- [pool-1-thread-2] c.ar4k.agent.core.AbstractAr4kService    : started service BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-17779d63-9994-43a4-abcb-cf09c8848cd1-ca.pem, certFile=/tmp/beacon-server-53d7c524-dd5a-49fa-8fc3-09941b0b5752.pem, privateKeyFile=/tmp/beacon-server-a0bef648-0e38-4440-be2b-2469a0bc7072.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]
2020-01-27 01:35:12.522  INFO 28727 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to RUNNING
2020-01-27 01:35:12.522  INFO 28727 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started org.springframework.statemachine.support.DefaultStateMachineExecutor@771d16d3
2020-01-27 01:35:12.523  INFO 28727 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started CONFIGURED FAULTED KILLED RUNNING INIT STAMINAL STASIS  / RUNNING / uuid=ba1cee1e-bd71-4418-9b2a-729108b3384b / id=null
2020-01-27 01:35:12.532  INFO 28727 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Started application in 11.883 seconds (JVM running for 17.281)
2020-01-27 01:35:26.491  INFO 28727 --- [Thread-511] c.a.a.tunnels.http.beacon.BeaconClient   : connection to beacon ok . I'm ciospo.rossonet.net_3e315264b52f483392201d2e2ad4d367
2020-01-27 01:35:32.764  INFO 28727 --- [grpc-default-executor-0] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_3e315264b52f483392201d2e2ad4d367"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_3e315264b52f483392201d2e2ad4d367"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 7777
srcPort: 8888

2020-01-27 01:35:32.767  INFO 28727 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel -2483399010041049861 created
2020-01-27 01:35:32.867  INFO 28727 --- [Thread-511] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon -2483399010041049861
2020-01-27 01:35:32.889  INFO 28727 --- [Thread-511] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:7777
2020-01-27 01:35:33.450  INFO 28727 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 8888 with id_target -2483399010041049861/5f6c1082-86b7-4d46-8dd8-804b1fff50b1 started successfully
2020-01-27 01:35:38.483  INFO 28727 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session -4518561531685813520 to -2483399010041049861/5f6c1082-86b7-4d46-8dd8-804b1fff50b1 created
2020-01-27 01:35:38.539  INFO 28727 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0x71384e5d, L:/127.0.0.1:8888 - R:/127.0.0.1:40244]) with session -4518561531685813520
2020-01-27 01:35:38.553  INFO 28727 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session -4518561531685813520 in tunnel -2483399010041049861
2020-01-27 01:35:38.581  INFO 28727 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session -4518561531685813520 to 127.0.0.1:7777 with id_target -2483399010041049861/2bc44cfb-e367-4015-a118-d2641de31bf8 started successfully
2020-01-27 01:35:40.544  WARN 28727 --- [Thread-511] c.a.a.r.process.xpra.XpraSessionProcess  : new Xpra session created on port 33919
2020-01-27 01:35:40.590  INFO 28727 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : REMOTE XPRA reply: "33919\n"

2020-01-27 01:35:41.501  INFO 28727 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : REMOTE XPRA LIST reply: "[test-xpra => http://172.17.0.1:33919, test-xpra => http://192.168.122.1:33919, test-xpra => http://192.168.0.163:33919, test-xpra => http://127.0.0.1:33919]\n"

2020-01-27 01:35:41.508  INFO 28727 --- [grpc-default-executor-0] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_3e315264b52f483392201d2e2ad4d367"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_3e315264b52f483392201d2e2ad4d367"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 33919
srcPort: 35075

2020-01-27 01:35:41.508  INFO 28727 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel 1581840334570997266 created
2020-01-27 01:35:41.990  INFO 28727 --- [Thread-511] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon 1581840334570997266
2020-01-27 01:35:41.998  INFO 28727 --- [Thread-511] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:33919
2020-01-27 01:35:42.119  INFO 28727 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 35075 with id_target 1581840334570997266/b788e968-f057-4dea-b8d6-82ac68c096fb started successfully
2020-01-27 01:35:57.606  INFO 28727 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session 5645889138721834417 to 1581840334570997266/b788e968-f057-4dea-b8d6-82ac68c096fb created
2020-01-27 01:35:57.766  INFO 28727 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0xf30aa199, L:/127.0.0.1:35075 - R:/127.0.0.1:51570]) with session 5645889138721834417
2020-01-27 01:35:57.779  INFO 28727 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session 5645889138721834417 in tunnel 1581840334570997266
2020-01-27 01:35:57.803  INFO 28727 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : during connection  ->  [M] Connessione rifiutata -> io.netty.channel.AbstractChannel$AnnotatedConnectException: Connessione rifiutata: /127.0.0.1:33919
Caused by: java.net.ConnectException: Connessione rifiutata
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:35:57.809  INFO 28727 --- [grpc-default-executor-1] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=1581840334570997266, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_3e315264b52f483392201d2e2ad4d367"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_3e315264b52f483392201d2e2ad4d367"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:35:57.809  INFO 28727 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 1581840334570997266/b9c3bf45-fb88-4e28-b405-401170a5664e session:0 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: Failed to read message.
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:622)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:595)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at org.ar4k.agent.tunnels.http.beacon.socket.Ar4kNetworkHub$BeaconObserver.createSocketSessionClient(Ar4kNetworkHub.java:113)
	at org.ar4k.agent.tunnels.http.beacon.socket.Ar4kNetworkHub$BeaconObserver.onNext(Ar4kNetworkHub.java:149)
	at org.ar4k.agent.tunnels.http.beacon.socket.Ar4kNetworkHub$BeaconObserver.onNext(Ar4kNetworkHub.java:1)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:436)
	at io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:610)
	... 6 more

2020-01-27 01:35:57.810  INFO 28727 --- [grpc-default-executor-1] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 1581840334570997266 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:35:57.880  INFO 28727 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 1581840334570997266/b788e968-f057-4dea-b8d6-82ac68c096fb session:5645889138721834417 ->  [M] io.grpc.StatusRuntimeException: UNKNOWN
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:35:57.885 ERROR 28727 --- [grpc-default-executor-1] io.grpc.internal.SerializingExecutor     : Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable@34005d90

io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onNext(ServerCalls.java:341)
	at org.ar4k.agent.tunnels.http.beacon.socket.TunnelRunnerBeaconServer.onNext(TunnelRunnerBeaconServer.java:62)
	at org.ar4k.agent.tunnels.http.beacon.BeaconServer$TunnelService$1.onNext(BeaconServer.java:455)
	at org.ar4k.agent.tunnels.http.beacon.BeaconServer$TunnelService$1.onNext(BeaconServer.java:1)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:251)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:309)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:292)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:782)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:37:47.132  INFO 28727 --- [main] c.ar4k.agent.core.AbstractAr4kService    : stopped service BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-17779d63-9994-43a4-abcb-cf09c8848cd1-ca.pem, certFile=/tmp/beacon-server-53d7c524-dd5a-49fa-8fc3-09941b0b5752.pem, privateKeyFile=/tmp/beacon-server-a0bef648-0e38-4440-be2b-2469a0bc7072.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]
2020-01-27 01:37:47.155  INFO 28727 --- [grpc-default-executor-0] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=-2483399010041049861, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_3e315264b52f483392201d2e2ad4d367"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_3e315264b52f483392201d2e2ad4d367"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:37:47.156  INFO 28727 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer -2483399010041049861 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:37:47.158  INFO 28727 --- [grpc-default-executor-3] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=-2483399010041049861, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_3e315264b52f483392201d2e2ad4d367"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_3e315264b52f483392201d2e2ad4d367"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:37:47.159  INFO 28727 --- [grpc-default-executor-3] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer -2483399010041049861 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:37:47.162  INFO 28727 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write -2483399010041049861/2bc44cfb-e367-4015-a118-d2641de31bf8 session:0 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:37:47.165  INFO 28727 --- [grpc-default-executor-3] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write -2483399010041049861/5f6c1082-86b7-4d46-8dd8-804b1fff50b1 session:-4518561531685813520 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:37:47.185  INFO 28727 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel system
2020-01-27 01:37:47.189  INFO 28727 --- [main] c.ar4k.agent.core.data.DataAddress       : system [local JVM system] removed
2020-01-27 01:37:47.189  INFO 28727 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel logger
2020-01-27 01:37:47.191  INFO 28727 --- [main] c.ar4k.agent.core.data.DataAddress       : logger [logger queue] removed
2020-01-27 01:37:47.197  INFO 28727 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel command
2020-01-27 01:37:47.200  INFO 28727 --- [main] c.ar4k.agent.core.data.DataAddress       : command [RPC interface] removed
2020-01-27 01:37:47.201  INFO 28727 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel health
2020-01-27 01:37:47.201  INFO 28727 --- [main] c.ar4k.agent.core.data.DataAddress       : health [local machine hardware and software stats] removed
2020-01-27 01:37:47.228  INFO 28727 --- [main] class org.ar4k.agent.core.Anima          : State change in ANIMA to KILLED
2020-01-27 01:37:47.229  INFO 28727 --- [main] o.s.s.support.LifecycleObjectSupport     : stopped org.springframework.statemachine.support.DefaultStateMachineExecutor@771d16d3
2020-01-27 01:37:47.233  INFO 28727 --- [main] o.s.s.support.LifecycleObjectSupport     : stopped CONFIGURED FAULTED KILLED RUNNING INIT STAMINAL STASIS  /  / uuid=ba1cee1e-bd71-4418-9b2a-729108b3384b / id=null
2020-01-27 01:37:47.272  WARN 28727 --- [Thread-511] c.a.a.tunnels.http.beacon.BeaconClient   : error sendHardwareInfo -> UNAVAILABLE: io exception
2020-01-27 01:37:47.273  INFO 28727 --- [Thread-511] c.a.a.tunnels.http.beacon.BeaconClient   : Exception ->  [M] finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666 -> io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)
	at org.ar4k.agent.tunnels.http.grpc.beacon.RpcServiceV1Grpc$RpcServiceV1BlockingStub.sendHealth(RpcServiceV1Grpc.java:1095)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.sendHardwareInfo(BeaconClient.java:606)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.run(BeaconClient.java:452)
	at java.lang.Thread.run(Thread.java:748)
Caused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666
Caused by: java.net.ConnectException: finishConnect(..) failed: Connessione rifiutata
	at io.grpc.netty.shaded.io.netty.channel.unix.Errors.throwConnectException(Errors.java:124)
	at io.grpc.netty.shaded.io.netty.channel.unix.Socket.finishConnect(Socket.java:243)
	at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:660)
	at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:637)
	at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:524)
	at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:473)
	at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:383)
	at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044)
	at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 01:37:47.581  INFO 28727 --- [SpringContextShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-27 01:37:47.586  INFO 28727 --- [SpringContextShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 0 subscriber(s).
2020-01-27 01:37:47.586  INFO 28727 --- [SpringContextShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2020-01-27 01:37:47.597  INFO 28727 --- [SpringContextShutdownHook] o.s.s.support.LifecycleObjectSupport     : destroy called
2020-01-27 01:41:21.225  INFO 30551 --- [pool-1-thread-2] o.s.boot.SpringApplication               : 
     _    ____  _  _   _         _                    _   
    / \  |  _ \| || | | | __    / \   __ _  ___ _ __ | |_ 
   / _ \ | |_) | || |_| |/ /   / _ \ / _` |/ _ \ '_ \| __|
  / ___ \|  _ <|__   _|   <   / ___ \ (_| |  __/ | | | |_ 
 /_/   \_\_| \_\__|_| |_|\_\ /_/   \_\__, |\___|_| |_|\__|
 | |__  _   _  |  _ \ ___  ___ ___  _|___/ __   ___| |_   
 | '_ \| | | | | |_) / _ \/ __/ __|/ _ \| '_ \ / _ \ __|  
 | |_) | |_| | |  _ < (_) \__ \__ \ (_) | | | |  __/ |_   
 |_.__/ \__, | |_| \_\___/|___/___/\___/|_| |_|\___|\__|  
        |___/                                             

BUILD 
based on Spring Boot Framework (v2.2.4.RELEASE)

Type help to list the available commands

You can use the TAB completation;
the CTRL-R to invoke the reverse-i-search in the history and
you can run a sequence of commands saved in a file.


2020-01-27 01:41:21.897  INFO 30551 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Starting application on ciospo.rossonet.net with PID 30551 (started by andrea in /home/andrea/privato/git/EdgeAgentAr4k/ar4k-terminal)
2020-01-27 01:41:21.901  INFO 30551 --- [pool-1-thread-2] o.s.boot.SpringApplication               : No active profile set, falling back to default profiles: default
2020-01-27 01:41:25.366  INFO 30551 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-27 01:41:25.388  INFO 30551 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-27 01:41:25.603  INFO 30551 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration' of type [org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration$$EnhancerBySpringCGLIB$$a8c3fb51] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:41:25.628  INFO 30551 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:41:25.655  INFO 30551 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:41:25.674  INFO 30551 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 01:41:26.845  WARN 30551 --- [pool-1-thread-2] org.jline                                : Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)
2020-01-27 01:41:28.423  INFO 30551 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-27 01:41:28.424  INFO 30551 --- [pool-1-thread-2] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-27 01:41:28.424  INFO 30551 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2020-01-27 01:41:28.466  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : STARTING AGENT...
2020-01-27 01:41:28.492  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to INIT
2020-01-27 01:41:28.644  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : datastore on Anima started
2020-01-27 01:41:28.957  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : use keystore file KeystoreConfig [creationDate=2020-01-27T00:41:28.646Z, lastUpdate=2020-01-27T00:41:28.646Z, uniqueId=5e6d602a-045f-4821-9e7d-161a99bb28fe, filePathPre=/tmp/server.ks, keystorePassword=*********, label=master-keytool, caAlias=server]
2020-01-27 01:41:29.247  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Certificate for anima: C=IT, ST=BO, L=Imola, OU=Ar4k, O=Rossonet s.c.a r.l., CN=rossonet-302d2726-e269-4544-901e-761c78022095 - alias server
2020-01-27 01:41:29.249  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : 0/3 searching config...
2020-01-27 01:41:29.253  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : try base64Config
2020-01-27 01:41:29.258  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : found base64Config
2020-01-27 01:41:29.259  INFO 30551 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel system of type class org.ar4k.agent.core.data.channels.INoDataChannel
2020-01-27 01:41:29.265  INFO 30551 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : system [local JVM system] started
2020-01-27 01:41:29.266  INFO 30551 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel logger of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 01:41:29.268  INFO 30551 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child logger to system for scope ar4k-ai
2020-01-27 01:41:29.269  INFO 30551 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : logger [logger queue] started
2020-01-27 01:41:29.270  INFO 30551 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel health of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 01:41:29.270  INFO 30551 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child health to system for scope ar4k-ai
2020-01-27 01:41:29.270  INFO 30551 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : health [local machine hardware and software stats] started
2020-01-27 01:41:29.275  INFO 30551 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel command of type class org.ar4k.agent.core.data.channels.IQueueChannel
2020-01-27 01:41:29.277  INFO 30551 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child command to system for scope ar4k-ai
2020-01-27 01:41:29.278  INFO 30551 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : command [RPC interface] started
2020-01-27 01:41:29.552  WARN 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : created user admin
2020-01-27 01:41:29.554  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : TRY CONNECTION TO BEACON AT https://127.0.0.1:33666
2020-01-27 01:41:29.751  INFO 30551 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Certificate with alias 'server' for Beacon client is present in keystore
2020-01-27 01:41:30.041  INFO 30551 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : USE KEY FOR CLIENT: server target file -> /tmp/beacon-client-8cc0d549-20ae-4eff-8583-eb830fa201a4.key
2020-01-27 01:41:32.009  WARN 30551 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Beacon server connection is UNAVAILABLE: io exception
2020-01-27 01:41:32.011  INFO 30551 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   :  [M] finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666 -> io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)
	at org.ar4k.agent.tunnels.http.grpc.beacon.RpcServiceV1Grpc$RpcServiceV1BlockingStub.register(RpcServiceV1Grpc.java:1056)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.registerToBeacon(BeaconClient.java:424)

2020-01-27 01:41:32.014  INFO 30551 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Client Beacon started, connected state TRANSIENT_FAILURE
2020-01-27 01:41:32.016  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : the Beacon endpoint https://127.0.0.1:33666 return TRANSIENT_FAILURE
2020-01-27 01:41:32.017  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Starting with config: Ar4kConfig [creationDate=2020-01-27T00:41:19.991Z, lastUpdate=2020-01-27T00:41:19.991Z, uniqueId=f9c95493-2924-4637-a68e-0c6b85b0e83e, name=server-beacon, prompt=studio, promptColor=91, description=Template configurazione Agente Ar4k, beaconServer=null, autoRegisterBeaconServer=false, dataCenter=ALONE, version=0, subVersion=1, tagVersion=demo, author=Ar4k demo user, project=Ar4k Edge Agent Test Project 1, license=GNU AFFERO GENERAL PUBLIC LICENSE, tags=[], contexts=[], groups=[], targetRunLevel=RUNNING, preScript=null, postScript=null, initializeKeystore=true, sshdAuthorizedKeysPath=~/.ssh/authorized_keys, routerType=NONE, logoUrl=/static/img/ar4k.png, pots=[BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-a0036892-1454-4410-922f-70c07e40f2d8-ca.pem, certFile=/tmp/beacon-server-a22df806-9d49-41c4-84b3-71e30d8b3f6f.pem, privateKeyFile=/tmp/beacon-server-1657cff6-50b4-4a95-b359-311721f6ff8e.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]]]
2020-01-27 01:41:32.018  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to STAMINAL
2020-01-27 01:41:32.021  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to CONFIGURED
2020-01-27 01:41:32.023  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : run BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-a0036892-1454-4410-922f-70c07e40f2d8-ca.pem, certFile=/tmp/beacon-server-a22df806-9d49-41c4-84b3-71e30d8b3f6f.pem, privateKeyFile=/tmp/beacon-server-1657cff6-50b4-4a95-b359-311721f6ff8e.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null] as service
2020-01-27 01:41:32.452  INFO 30551 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Certificate with alias 'server' for Beacon server is present in keystore
2020-01-27 01:41:33.098  INFO 30551 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Starting beacon server
2020-01-27 01:41:33.317  INFO 30551 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Server Beacon started, listening on 33666
2020-01-27 01:41:33.320  INFO 30551 --- [pool-1-thread-2] c.ar4k.agent.core.AbstractAr4kService    : started service BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-a0036892-1454-4410-922f-70c07e40f2d8-ca.pem, certFile=/tmp/beacon-server-a22df806-9d49-41c4-84b3-71e30d8b3f6f.pem, privateKeyFile=/tmp/beacon-server-1657cff6-50b4-4a95-b359-311721f6ff8e.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]
2020-01-27 01:41:33.320  INFO 30551 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to RUNNING
2020-01-27 01:41:33.321  INFO 30551 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started org.springframework.statemachine.support.DefaultStateMachineExecutor@1bde9e11
2020-01-27 01:41:33.324  INFO 30551 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started CONFIGURED KILLED RUNNING FAULTED STAMINAL STASIS INIT  / RUNNING / uuid=ac2f63dc-42bf-43ad-b220-47b8f778295b / id=null
2020-01-27 01:41:33.336  INFO 30551 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Started application in 13.105 seconds (JVM running for 18.287)
2020-01-27 01:41:46.500  INFO 30551 --- [Thread-446] c.a.a.tunnels.http.beacon.BeaconClient   : connection to beacon ok . I'm ciospo.rossonet.net_fd6618e950f3498cab0eaa876ff61079
2020-01-27 01:41:53.490  INFO 30551 --- [grpc-default-executor-0] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_fd6618e950f3498cab0eaa876ff61079"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_fd6618e950f3498cab0eaa876ff61079"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 7777
srcPort: 8888

2020-01-27 01:41:53.492  INFO 30551 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel -4476455365685654229 created
2020-01-27 01:41:53.752  INFO 30551 --- [Thread-446] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon -4476455365685654229
2020-01-27 01:41:53.765  INFO 30551 --- [Thread-446] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:7777
2020-01-27 01:41:54.150  INFO 30551 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 8888 with id_target -4476455365685654229/2c4f6fe8-9610-440a-89fe-e002f41b42cd started successfully
2020-01-27 01:41:59.187  INFO 30551 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session -7661078224899259911 to -4476455365685654229/2c4f6fe8-9610-440a-89fe-e002f41b42cd created
2020-01-27 01:41:59.248  INFO 30551 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0xf655c31a, L:/127.0.0.1:8888 - R:/127.0.0.1:40400]) with session -7661078224899259911
2020-01-27 01:41:59.260  INFO 30551 --- [grpc-default-executor-2] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session -7661078224899259911 in tunnel -4476455365685654229
2020-01-27 01:41:59.287  INFO 30551 --- [grpc-default-executor-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session -7661078224899259911 to 127.0.0.1:7777 with id_target -4476455365685654229/813a8ad7-aeaf-44f5-822f-1457ae13ec5f started successfully
2020-01-27 01:42:00.716  WARN 30551 --- [Thread-446] c.a.a.r.process.xpra.XpraSessionProcess  : new Xpra session created on port 46759
2020-01-27 01:42:00.979  INFO 30551 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : REMOTE XPRA reply: "46759\n"

2020-01-27 01:42:01.889  INFO 30551 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : REMOTE XPRA LIST reply: "[test-xpra => http://172.17.0.1:46759, test-xpra => http://192.168.122.1:46759, test-xpra => http://192.168.0.163:46759, test-xpra => http://127.0.0.1:46759]\n"

2020-01-27 01:42:01.897  INFO 30551 --- [grpc-default-executor-0] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_fd6618e950f3498cab0eaa876ff61079"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_fd6618e950f3498cab0eaa876ff61079"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 46759
srcPort: 44847

2020-01-27 01:42:01.897  INFO 30551 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel -1009705652206285417 created
2020-01-27 01:42:02.274  INFO 30551 --- [Thread-446] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon -1009705652206285417
2020-01-27 01:42:02.285  INFO 30551 --- [Thread-446] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:46759
2020-01-27 01:42:02.506  INFO 30551 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 44847 with id_target -1009705652206285417/d0d0e325-d4c6-488a-b41a-6fb4ebf686b3 started successfully
2020-01-27 01:42:15.116  INFO 30551 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session 8973696620481432175 to -1009705652206285417/d0d0e325-d4c6-488a-b41a-6fb4ebf686b3 created
2020-01-27 01:42:15.333  INFO 30551 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0x5eb8eaa5, L:/127.0.0.1:44847 - R:/127.0.0.1:40842]) with session 8973696620481432175
2020-01-27 01:42:15.342  INFO 30551 --- [grpc-default-executor-1] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session 8973696620481432175 in tunnel -1009705652206285417
2020-01-27 01:42:15.381  INFO 30551 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session 8973696620481432175 to 127.0.0.1:46759 with id_target -1009705652206285417/66453da6-2ddd-4fd6-9c07-7aab07ad4754 started successfully
2020-01-27 01:42:46.219  INFO 30551 --- [nioEventLoopGroup-7-2] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session -237849178494973715 to -1009705652206285417/d0d0e325-d4c6-488a-b41a-6fb4ebf686b3 created
2020-01-27 01:42:46.374  INFO 30551 --- [nioEventLoopGroup-7-2] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0xc9de7f52, L:/127.0.0.1:44847 - R:/127.0.0.1:40846]) with session -237849178494973715
2020-01-27 01:42:46.383  INFO 30551 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session -237849178494973715 in tunnel -1009705652206285417
2020-01-27 01:42:46.418  INFO 30551 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session -237849178494973715 to 127.0.0.1:46759 with id_target -1009705652206285417/66453da6-2ddd-4fd6-9c07-7aab07ad4754 started successfully
2020-01-27 02:03:59.693  INFO 18095 --- [pool-1-thread-2] o.s.boot.SpringApplication               : 
     _    ____  _  _   _         _                    _   
    / \  |  _ \| || | | | __    / \   __ _  ___ _ __ | |_ 
   / _ \ | |_) | || |_| |/ /   / _ \ / _` |/ _ \ '_ \| __|
  / ___ \|  _ <|__   _|   <   / ___ \ (_| |  __/ | | | |_ 
 /_/   \_\_| \_\__|_| |_|\_\ /_/   \_\__, |\___|_| |_|\__|
 | |__  _   _  |  _ \ ___  ___ ___  _|___/ __   ___| |_   
 | '_ \| | | | | |_) / _ \/ __/ __|/ _ \| '_ \ / _ \ __|  
 | |_) | |_| | |  _ < (_) \__ \__ \ (_) | | | |  __/ |_   
 |_.__/ \__, | |_| \_\___/|___/___/\___/|_| |_|\___|\__|  
        |___/                                             

BUILD 
based on Spring Boot Framework (v2.2.4.RELEASE)

Type help to list the available commands

You can use the TAB completation;
the CTRL-R to invoke the reverse-i-search in the history and
you can run a sequence of commands saved in a file.


2020-01-27 02:04:00.246  INFO 18095 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Starting application on ciospo.rossonet.net with PID 18095 (started by andrea in /home/andrea/privato/git/EdgeAgentAr4k/ar4k-terminal)
2020-01-27 02:04:00.254  INFO 18095 --- [pool-1-thread-2] o.s.boot.SpringApplication               : No active profile set, falling back to default profiles: default
2020-01-27 02:04:03.965  INFO 18095 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-27 02:04:03.986  INFO 18095 --- [pool-1-thread-2] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-27 02:04:04.216  INFO 18095 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration' of type [org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration$$EnhancerBySpringCGLIB$$77eb73ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 02:04:04.243  INFO 18095 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 02:04:04.266  INFO 18095 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 02:04:04.281  INFO 18095 --- [pool-1-thread-2] trationDelegate$BeanPostProcessorChecker : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-27 02:04:05.349  WARN 18095 --- [pool-1-thread-2] org.jline                                : Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)
2020-01-27 02:04:06.957  INFO 18095 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-27 02:04:06.961  INFO 18095 --- [pool-1-thread-2] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-27 02:04:06.962  INFO 18095 --- [pool-1-thread-2] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2020-01-27 02:04:07.001  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : STARTING AGENT...
2020-01-27 02:04:07.020  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to INIT
2020-01-27 02:04:07.156  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : datastore on Anima started
2020-01-27 02:04:07.462  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : use keystore file KeystoreConfig [creationDate=2020-01-27T01:04:07.158Z, lastUpdate=2020-01-27T01:04:07.158Z, uniqueId=338ac890-bd7b-43de-b552-41f56c4c06cc, filePathPre=/tmp/server.ks, keystorePassword=*********, label=master-keytool, caAlias=server]
2020-01-27 02:04:07.754  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Certificate for anima: C=IT, ST=BO, L=Imola, OU=Ar4k, O=Rossonet s.c.a r.l., CN=rossonet-dd199863-693c-400a-94e8-48cab5f2fdf1 - alias server
2020-01-27 02:04:07.757  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : 0/3 searching config...
2020-01-27 02:04:07.758  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : try base64Config
2020-01-27 02:04:07.763  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : found base64Config
2020-01-27 02:04:07.765  INFO 18095 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel system of type class org.ar4k.agent.core.data.channels.INoDataChannel
2020-01-27 02:04:07.773  INFO 18095 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : system [local JVM system] started
2020-01-27 02:04:07.782  INFO 18095 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel logger of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 02:04:07.785  INFO 18095 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child logger to system for scope ar4k-ai
2020-01-27 02:04:07.790  INFO 18095 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : logger [logger queue] started
2020-01-27 02:04:07.792  INFO 18095 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel health of type class org.ar4k.agent.core.data.channels.IPublishSubscribeChannel
2020-01-27 02:04:07.795  INFO 18095 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child health to system for scope ar4k-ai
2020-01-27 02:04:07.796  INFO 18095 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : health [local machine hardware and software stats] started
2020-01-27 02:04:07.803  INFO 18095 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : create channel command of type class org.ar4k.agent.core.data.channels.IQueueChannel
2020-01-27 02:04:07.809  INFO 18095 --- [pool-1-thread-2] c.ar4k.agent.core.data.AbstractChannel   : add child command to system for scope ar4k-ai
2020-01-27 02:04:07.809  INFO 18095 --- [pool-1-thread-2] c.ar4k.agent.core.data.DataAddress       : command [RPC interface] started
2020-01-27 02:04:08.241  WARN 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : created user admin
2020-01-27 02:04:08.245  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : TRY CONNECTION TO BEACON AT https://127.0.0.1:33666
2020-01-27 02:04:08.515  INFO 18095 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Certificate with alias 'server' for Beacon client is present in keystore
2020-01-27 02:04:08.896  INFO 18095 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : USE KEY FOR CLIENT: server target file -> /tmp/beacon-client-3b65d012-8005-4ba5-ab9c-1f5744457e43.key
2020-01-27 02:04:11.393  WARN 18095 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Beacon server connection is UNAVAILABLE: io exception
2020-01-27 02:04:11.397  INFO 18095 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   :  [M] finishConnect(..) failed: Connessione rifiutata: /127.0.0.1:33666 -> io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)
	at org.ar4k.agent.tunnels.http.grpc.beacon.RpcServiceV1Grpc$RpcServiceV1BlockingStub.register(RpcServiceV1Grpc.java:1056)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.registerToBeacon(BeaconClient.java:424)

2020-01-27 02:04:11.398  INFO 18095 --- [pool-1-thread-2] c.a.a.tunnels.http.beacon.BeaconClient   : Client Beacon started, connected state TRANSIENT_FAILURE
2020-01-27 02:04:11.402  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : the Beacon endpoint https://127.0.0.1:33666 return TRANSIENT_FAILURE
2020-01-27 02:04:11.403  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : Starting with config: Ar4kConfig [creationDate=2020-01-27T01:03:58.270Z, lastUpdate=2020-01-27T01:03:58.270Z, uniqueId=04aebb00-3919-4193-ae72-690bf55f9520, name=server-beacon, prompt=studio, promptColor=91, description=Template configurazione Agente Ar4k, beaconServer=null, autoRegisterBeaconServer=false, dataCenter=ALONE, version=0, subVersion=1, tagVersion=demo, author=Ar4k demo user, project=Ar4k Edge Agent Test Project 1, license=GNU AFFERO GENERAL PUBLIC LICENSE, tags=[], contexts=[], groups=[], targetRunLevel=RUNNING, preScript=null, postScript=null, initializeKeystore=true, sshdAuthorizedKeysPath=~/.ssh/authorized_keys, routerType=NONE, logoUrl=/static/img/ar4k.png, pots=[BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-2589335a-0b0a-4f13-9208-92cf006033cb-ca.pem, certFile=/tmp/beacon-server-c7f01dc2-ec9e-4723-8425-a31f7f7fc3db.pem, privateKeyFile=/tmp/beacon-server-b15244c8-4e14-4e90-a610-c7a444a12e85.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]]]
2020-01-27 02:04:11.403  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to STAMINAL
2020-01-27 02:04:11.412  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to CONFIGURED
2020-01-27 02:04:11.414  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : run BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-2589335a-0b0a-4f13-9208-92cf006033cb-ca.pem, certFile=/tmp/beacon-server-c7f01dc2-ec9e-4723-8425-a31f7f7fc3db.pem, privateKeyFile=/tmp/beacon-server-b15244c8-4e14-4e90-a610-c7a444a12e85.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null] as service
2020-01-27 02:04:11.846  INFO 18095 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Certificate with alias 'server' for Beacon server is present in keystore
2020-01-27 02:04:12.482  INFO 18095 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Starting beacon server
2020-01-27 02:04:12.687  INFO 18095 --- [pool-5-thread-1] c.a.a.tunnels.http.beacon.BeaconServer   : Server Beacon started, listening on 33666
2020-01-27 02:04:12.690  INFO 18095 --- [pool-1-thread-2] c.ar4k.agent.core.AbstractAr4kService    : started service BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-2589335a-0b0a-4f13-9208-92cf006033cb-ca.pem, certFile=/tmp/beacon-server-c7f01dc2-ec9e-4723-8425-a31f7f7fc3db.pem, privateKeyFile=/tmp/beacon-server-b15244c8-4e14-4e90-a610-c7a444a12e85.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]
2020-01-27 02:04:12.691  INFO 18095 --- [pool-1-thread-2] class org.ar4k.agent.core.Anima          : State change in ANIMA to RUNNING
2020-01-27 02:04:12.691  INFO 18095 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started org.springframework.statemachine.support.DefaultStateMachineExecutor@147c5e03
2020-01-27 02:04:12.692  INFO 18095 --- [pool-1-thread-2] o.s.s.support.LifecycleObjectSupport     : started CONFIGURED STAMINAL RUNNING FAULTED INIT STASIS KILLED  / RUNNING / uuid=8c2a6691-7c36-4bed-bb50-a8b2ff96597e / id=null
2020-01-27 02:04:12.704  INFO 18095 --- [pool-1-thread-2] o.s.boot.SpringApplication               : Started application in 13.924 seconds (JVM running for 19.443)
2020-01-27 02:04:25.797  INFO 18095 --- [Thread-420] c.a.a.tunnels.http.beacon.BeaconClient   : connection to beacon ok . I'm ciospo.rossonet.net_707f723f492e4c2baa9181ab75490a4b
2020-01-27 02:04:32.959  INFO 18095 --- [grpc-default-executor-0] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_707f723f492e4c2baa9181ab75490a4b"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_707f723f492e4c2baa9181ab75490a4b"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 7777
srcPort: 8888

2020-01-27 02:04:32.964  INFO 18095 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel -8723329753070810024 created
2020-01-27 02:04:33.138  INFO 18095 --- [Thread-420] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon -8723329753070810024
2020-01-27 02:04:33.166  INFO 18095 --- [Thread-420] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:7777
2020-01-27 02:04:33.901  INFO 18095 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 8888 with id_target -8723329753070810024/e3237ff2-4a03-49ff-9a9b-d8dacc1c9b9f started successfully
2020-01-27 02:04:38.960  INFO 18095 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session 7543553453728876339 to -8723329753070810024/e3237ff2-4a03-49ff-9a9b-d8dacc1c9b9f created
2020-01-27 02:04:39.054  INFO 18095 --- [nioEventLoopGroup-4-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0xf9911b23, L:/127.0.0.1:8888 - R:/127.0.0.1:40660]) with session 7543553453728876339
2020-01-27 02:04:39.088  INFO 18095 --- [grpc-default-executor-1] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session 7543553453728876339 in tunnel -8723329753070810024
2020-01-27 02:04:39.160  INFO 18095 --- [grpc-default-executor-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Client Netty session 7543553453728876339 to 127.0.0.1:7777 with id_target -8723329753070810024/569c6184-5c72-451c-8de8-4153ac108156 started successfully
2020-01-27 02:04:41.210  WARN 18095 --- [Thread-420] c.a.a.r.process.xpra.XpraSessionProcess  : new Xpra session created on port 36833
2020-01-27 02:04:41.349  INFO 18095 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : REMOTE XPRA reply: "36833\n"

2020-01-27 02:04:41.979  INFO 18095 --- [main] c.ar4k.agent.helper.AbstractShellHelper  : REMOTE XPRA LIST reply: "[test-xpra => http://172.17.0.1:36833, test-xpra => http://192.168.122.1:36833, test-xpra => http://192.168.0.163:36833, test-xpra => http://127.0.0.1:36833]\n"

2020-01-27 02:04:41.986  INFO 18095 --- [grpc-default-executor-0] c.a.a.tunnels.http.beacon.BeaconServer   : Beacon client require tunnel -> agentSender {
  agentUniqueName: "ciospo.rossonet.net_707f723f492e4c2baa9181ab75490a4b"
}
agentDestination {
  agentUniqueName: "ciospo.rossonet.net_707f723f492e4c2baa9181ab75490a4b"
}
mode: BYTES_TO_CLIENT_TCP
destIp: "127.0.0.1"
destPort: 36833
srcPort: 36163

2020-01-27 02:04:41.986  INFO 18095 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : tunnel 980698321798057877 created
2020-01-27 02:04:42.794  INFO 18095 --- [Thread-420] c.a.a.tunnels.http.beacon.BeaconClient   : network port required from beacon 980698321798057877
2020-01-27 02:04:42.807  INFO 18095 --- [Thread-420] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Starting client to: 127.0.0.1:36833
2020-01-27 02:04:42.914  INFO 18095 --- [main] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server Netty on port 36163 with id_target 980698321798057877/fbf5e347-44e5-4665-8236-bb61dab8c671 started successfully
2020-01-27 02:05:03.727  INFO 18095 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Server socket with session -8690942787692117402 to 980698321798057877/fbf5e347-44e5-4665-8236-bb61dab8c671 created
2020-01-27 02:05:04.070  INFO 18095 --- [nioEventLoopGroup-7-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : open Beacon channel for server ChannelHandlerContext(Ar4kNetworkHub$ServerTCPHandler#0, [id: 0xcd279b4b, L:/127.0.0.1:36163 - R:/127.0.0.1:55040]) with session -8690942787692117402
2020-01-27 02:05:04.082  INFO 18095 --- [grpc-default-executor-0] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : new session -8690942787692117402 in tunnel 980698321798057877
2020-01-27 02:05:04.117  INFO 18095 --- [grpc-default-executor-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : during connection  ->  [M] Connessione rifiutata -> io.netty.channel.AbstractChannel$AnnotatedConnectException: Connessione rifiutata: /127.0.0.1:36833
Caused by: java.net.ConnectException: Connessione rifiutata
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 02:05:04.120  INFO 18095 --- [grpc-default-executor-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 980698321798057877/276c8ea3-40c8-4ca8-a98e-2e177c379d67 session:0 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: Failed to read message.
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:622)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:595)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at org.ar4k.agent.tunnels.http.beacon.socket.Ar4kNetworkHub$BeaconObserver.createSocketSessionClient(Ar4kNetworkHub.java:113)
	at org.ar4k.agent.tunnels.http.beacon.socket.Ar4kNetworkHub$BeaconObserver.onNext(Ar4kNetworkHub.java:149)
	at org.ar4k.agent.tunnels.http.beacon.socket.Ar4kNetworkHub$BeaconObserver.onNext(Ar4kNetworkHub.java:1)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:436)
	at io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:610)
	... 6 more

2020-01-27 02:05:04.133  INFO 18095 --- [grpc-default-executor-2] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=980698321798057877, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_707f723f492e4c2baa9181ab75490a4b"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_707f723f492e4c2baa9181ab75490a4b"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 02:05:04.134  INFO 18095 --- [grpc-default-executor-2] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer 980698321798057877 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 02:05:04.143  INFO 18095 --- [grpc-default-executor-1] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write 980698321798057877/fbf5e347-44e5-4665-8236-bb61dab8c671 session:-8690942787692117402 ->  [M] io.grpc.StatusRuntimeException: UNKNOWN
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 02:05:04.167 ERROR 18095 --- [grpc-default-executor-0] io.grpc.internal.SerializingExecutor     : Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable@7ee4f9a7

io.grpc.StatusRuntimeException: CANCELLED: call already cancelled
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onNext(ServerCalls.java:341)
	at org.ar4k.agent.tunnels.http.beacon.socket.TunnelRunnerBeaconServer.onNext(TunnelRunnerBeaconServer.java:62)
	at org.ar4k.agent.tunnels.http.beacon.BeaconServer$TunnelService$1.onNext(BeaconServer.java:455)
	at org.ar4k.agent.tunnels.http.beacon.BeaconServer$TunnelService$1.onNext(BeaconServer.java:1)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:251)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:309)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:292)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:782)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 02:06:47.929  INFO 18095 --- [main] c.ar4k.agent.core.AbstractAr4kService    : stopped service BeaconServiceConfig [port=33666, discoveryPort=33667, broadcastAddress=255.255.255.255, acceptAllCerts=true, stringDiscovery=TEST-REGISTER, certChainFile=/tmp/beacon-server-2589335a-0b0a-4f13-9208-92cf006033cb-ca.pem, certFile=/tmp/beacon-server-c7f01dc2-ec9e-4723-8425-a31f7f7fc3db.pem, privateKeyFile=/tmp/beacon-server-b15244c8-4e14-4e90-a610-c7a444a12e85.key, aliasBeaconServerInKeystore=server, aliasBeaconServerRequestCertInKeystore=null, caChainPem=null]
2020-01-27 02:06:47.956  INFO 18095 --- [grpc-default-executor-2] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=-8723329753070810024, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_707f723f492e4c2baa9181ab75490a4b"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_707f723f492e4c2baa9181ab75490a4b"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 02:06:47.957  INFO 18095 --- [grpc-default-executor-2] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer -8723329753070810024 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 02:06:47.966  INFO 18095 --- [grpc-default-executor-2] c.a.a.tunnels.http.beacon.BeaconServer   : Error on BeaconServer TunnelRunnerBeaconServer [targeId=-8723329753070810024, active=true, serverAgent=agentUniqueName: "ciospo.rossonet.net_707f723f492e4c2baa9181ab75490a4b"
, clientAgent=agentUniqueName: "ciospo.rossonet.net_707f723f492e4c2baa9181ab75490a4b"
, sessions=1] ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 02:06:47.966  INFO 18095 --- [grpc-default-executor-2] c.a.a.t.h.b.s.TunnelRunnerBeaconServer   : Error on TunnelRunnerBeaconServer -8723329753070810024 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: cancelled before receiving half close
	at io.grpc.Status.asRuntimeException(Status.java:524)
	at io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onCancel(ServerCalls.java:275)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closedInternal(ServerCallImpl.java:353)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.closed(ServerCallImpl.java:341)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1Closed.runInContext(ServerImpl.java:867)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 02:06:47.968  INFO 18095 --- [grpc-default-executor-2] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write -8723329753070810024/569c6184-5c72-451c-8de8-4153ac108156 session:0 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 02:06:47.970  INFO 18095 --- [grpc-default-executor-0] c.a.a.t.h.beacon.socket.Ar4kNetworkHub   : Error for tunnel write -8723329753070810024/e3237ff2-4a03-49ff-9a9b-d8dacc1c9b9f session:7543553453728876339 ->  [M] io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
	at io.grpc.Status.asRuntimeException(Status.java:533)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:521)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:641)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:529)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:703)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:692)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 02:06:47.971  WARN 18095 --- [Thread-420] c.a.a.tunnels.http.beacon.BeaconClient   : error sendHardwareInfo -> UNAVAILABLE: HTTP/2 error code: NO_ERROR
Received Goaway
2020-01-27 02:06:47.972  INFO 18095 --- [Thread-420] c.a.a.tunnels.http.beacon.BeaconClient   : Exception ->  [M] io.grpc.StatusRuntimeException: UNAVAILABLE: HTTP/2 error code: NO_ERROR
Received Goaway
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)
	at org.ar4k.agent.tunnels.http.grpc.beacon.RpcServiceV1Grpc$RpcServiceV1BlockingStub.sendHealth(RpcServiceV1Grpc.java:1095)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.sendHardwareInfo(BeaconClient.java:606)
	at org.ar4k.agent.tunnels.http.beacon.BeaconClient.run(BeaconClient.java:452)
	at java.lang.Thread.run(Thread.java:748)

2020-01-27 02:06:48.017  INFO 18095 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel health
2020-01-27 02:06:48.021  INFO 18095 --- [main] c.ar4k.agent.core.data.DataAddress       : health [local machine hardware and software stats] removed
2020-01-27 02:06:48.022  INFO 18095 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel logger
2020-01-27 02:06:48.023  INFO 18095 --- [main] c.ar4k.agent.core.data.DataAddress       : logger [logger queue] removed
2020-01-27 02:06:48.023  INFO 18095 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel command
2020-01-27 02:06:48.024  INFO 18095 --- [main] c.ar4k.agent.core.data.DataAddress       : command [RPC interface] removed
2020-01-27 02:06:48.024  INFO 18095 --- [main] c.ar4k.agent.core.data.DataAddress       : Try to remove dataChannel system
2020-01-27 02:06:48.025  INFO 18095 --- [main] c.ar4k.agent.core.data.DataAddress       : system [local JVM system] removed
2020-01-27 02:06:48.042  INFO 18095 --- [main] class org.ar4k.agent.core.Anima          : State change in ANIMA to KILLED
2020-01-27 02:06:48.050  INFO 18095 --- [main] o.s.s.support.LifecycleObjectSupport     : stopped org.springframework.statemachine.support.DefaultStateMachineExecutor@147c5e03
2020-01-27 02:06:48.057  INFO 18095 --- [main] o.s.s.support.LifecycleObjectSupport     : stopped CONFIGURED STAMINAL RUNNING FAULTED INIT STASIS KILLED  /  / uuid=8c2a6691-7c36-4bed-bb50-a8b2ff96597e / id=null
2020-01-27 02:06:48.835  INFO 18095 --- [SpringContextShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-27 02:06:48.844  INFO 18095 --- [SpringContextShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 0 subscriber(s).
2020-01-27 02:06:48.844  INFO 18095 --- [SpringContextShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2020-01-27 02:06:48.850  INFO 18095 --- [SpringContextShutdownHook] o.s.s.support.LifecycleObjectSupport     : destroy called
